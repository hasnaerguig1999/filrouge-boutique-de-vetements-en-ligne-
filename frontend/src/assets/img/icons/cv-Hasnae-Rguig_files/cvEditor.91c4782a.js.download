(()=>{var e,t,n,o={12564:(e,t,n)=>{n(66992),n(19601),n(41539),n(88674),n(78783),n(33948);var o=n(25962);if(n.g.MediumEditor=o,n.g.oldEditorEnabled&&(n(56237),n(51738)),n.g.oldEditorEnabled&&n(73721),n(5779),n(77173),n.g.oldEditorEnabled?(n(16613),n(33408)):n(37520),n.g.CVCommentaryEnabled?n(95362):n.g.CVDiffEnabled&&n(10675),n(32155),n(35425),n(98745),n.g.oldEditorEnabled){var i,a,r,s,c,d,l,u,p,m=[n.e(3845).then(n.bind(n,73845)).then((function(e){return e})),n.e(3470).then(n.bind(n,13470)).then((function(e){return e})),n.e(353).then(n.bind(n,90353)).then((function(e){return e})),n.e(6484).then(n.bind(n,76484)).then((function(e){return e})),n.e(1705).then(n.bind(n,41705)).then((function(e){return e})),n.e(3621).then(n.bind(n,23621)).then((function(e){return e})),n.e(6279).then(n.bind(n,96279)).then((function(e){return e})),n.e(8510).then(n.bind(n,48510)).then((function(e){return e})),n.e(3237).then(n.bind(n,93237)).then((function(e){return e}))];Promise.all(m).then((function(e){i=e[0].Editor,a=e[1].default,r=e[2].Color,s=e[3].Link,c=e[4].Superscript,d=e[5].default,l=e[6].default,u=e[7].default,p=e[8].default,n.g.Editor=i,n.g.StarterKit=a,n.g.TipTapColor=r,n.g.TipTapLink=s,n.g.TipTapSuperscript=c,n.g.TipTapTextStyle=d,n.g.TipTapTextAlign=l,n.g.TipTapUnderline=u,n.g.TipTapPlaceholder=p})),n(35661)}else n(92686);"correction"===n.g.Cookies.get("__atm")&&n.g.onCVLoaded.push((function(){n.g.testCorrection(),n.g.Cookies.remove("__atm")})),n.g.customTutorial&&(n.g.startIntro=function(){var e=n.g.introJs();e.setOptions(Object.assign(introjsIntl,{scrollTo:"tooltip",disableInteraction:!0,showStepNumbers:!1,steps:n.g.customTutorial})),e.start()})},5779:(e,t,n)=>{"use strict";n.r(t);n(19755);(function(){n(47042),n(74916),n(4723);var e=n(18698);!function(t){var n=t(window),o=function(e,t,n,o){if(3===arguments.length||o){if(n<e)return e;if(n>t)return t}return n},i=function(e){e.clientX=e.originalEvent.touches[0].clientX,e.clientY=e.originalEvent.touches[0].clientY};function a(e,t){this.element=e,this.options=t,this.init()}a.prototype.init=function(){var e=t(this.element),a=(e.css("background-image").match(/^url\(['"]?(.*?)['"]?\)$/i)||[])[1],r=this.options;if(a){var s={width:0,height:0};r.bound&&(s=function(e){var t=(e.css("background-image").match(/^url\(['"]?(.*?)['"]?\)$/i)||[])[1];if(t){var n={width:0,height:0},o=new Image;return o.onload=function(){if("cover"==e.css("background-size")){var t=e.innerWidth(),i=e.innerHeight(),a=t/i,r=1;r=o.width/o.height>=a?i/o.height:t/o.width,n.width=o.width*r,n.height=o.height*r}else n.width=o.width,n.height=o.height},o.src=t,n}}(e)),e.on("mousedown.dbg touchstart.dbg",(function(t){var a=e;if(t.target===e[0]){if(t.preventDefault(),t.originalEvent.touches)i(t);else if(1!==t.which)return;var c=t.clientX,d=t.clientY,l=e.css("background-position").match(/(-?[\%|\w]+).*?\s(-?[\%|\w]+)/)||[],u=e.css("background-size")||null,p="50%"===l[1]?"center":parseInt(l[1])||0,m="50%"===l[2]?"center":parseInt(l[2])||0;"center"===p&&"center"===m&&u&&("100%"===u?p=0:"auto 100%"===u?m=0:"cover"===u&&(p=0,m=0)),n.on("mousemove.dbg touchmove.dbg",(function(t){t.preventDefault(),t.originalEvent.touches&&i(t);var n=t.clientX,a=t.clientY,l=e.innerWidth()-s.width,f=e.innerHeight()-s.height;u&&("100%"===u?l=0:"auto 100%"===u&&(f=0)),p="center"===p?"center":"y"===r.axis?p:o(l,0,p+n-c,r.bound),m="center"===m?"center":"x"===r.axis?m:o(f,0,m+a-d,r.bound),c=n,d=a,p=Math.abs(p)<1?0:p,m=Math.abs(m)<1?0:m,e.css("background-position",("center"!==p?p+"px":p)+" "+("center"!==m?m+"px":m))})),n.on("mouseup.dbg touchend.dbg",(function(){r.done&&r.done(a),n.off("mousemove.dbg touchmove.dbg"),n.off("mouseup.dbg touchend.dbg mouseleave.dbg")}))}}))}},a.prototype.disable=function(){t(this.element).off("mousedown.dbg touchstart.dbg"),n.off("mousemove.dbg touchmove.dbg mouseup.dbg touchend.dbg mouseleave.dbg")},t.fn.backgroundDraggable=function(n){n=n;var o=Array.prototype.slice.call(arguments,1);return this.each((function(){var i=t(this);if(void 0===n||"object"==e(n)){var r=new a(this,n=t.extend({},t.fn.backgroundDraggable.defaults,n));i.data("dbg",r)}else if("string"==typeof n&&i.data("dbg")){r=i.data("dbg");a.prototype[n].apply(r,o)}}))},t.fn.backgroundDraggable.defaults={bound:!0,axis:void 0}}(jQuery)}).call(window)},95362:(e,t,n)=>{(function(){function t(e){var t=document.createElement("div");t.classList.add("comment-list-item"),t.setAttribute("comment-id",e.id),t.setAttribute("comment-text",e.comment);var n=document.createElement("div");n.classList.add("comment-list-item__header");var i=document.createElement("div");i.classList.add("settings");var a=document.createElement("a");a.classList.add("resolve"),a.innerHTML='<i class="fa fa-check" aria-hidden="true"></i> Résolu';var r=document.createElement("a");r.classList.add("drop"),r.innerHTML='<i class="fa fa-times" aria-hidden="true"></i> Abandonné',i.appendChild(r),i.appendChild(a),n.appendChild(i),t.appendChild(n);var s=document.createElement("div");return s.classList.add("comment-list-item__text"),s.textContent=e.comment,t.appendChild(s),$(a).click((function(n){return n.stopPropagation(),requestGET("/api/v1/applicant_service/cv_commentary/"+window.cvId+"/comment/"+e.id+"/resolve",(function(n){if(n.success){$(t).fadeOut("fast",(function(){this.remove()})),$('.cv-marker[comment-id="'+$(t).attr("comment-id")+'"]').fadeOut("fast",(function(){this.remove()}));var i=window.comments.map((function(e){return e.id})).indexOf(e.id);window.comments.splice(i,1),0==window.comments.length&&o(window.cvId)}})),n.preventDefault(),!1})),$(r).click((function(n){requestGET("/api/v1/applicant_service/cv_commentary/"+window.cvId+"/comment/"+e.id+"/drop",(function(i){if(i.success){$(t).fadeOut("fast",(function(){this.remove()})),$('.cv-marker[comment-id="'+$(t).attr("comment-id")+'"]').fadeOut("fast",(function(){this.remove()}));var a=window.comments.map((function(e){return e.id})).indexOf(e.id);window.comments.splice(a,1),0==window.comments.length&&o(window.cvId)}return n.preventDefault(),!1}))})),t}n(57327),n(82772),n(21249),n(40561),n(19601),window.comments=[],window.callbackLoad=function(){void 0!==window.documentEditorV3&&window.documentEditorV3||$(".cv-b2b-service").hide(),requestGET("/api/v1/applicant_service/cv_commentary/"+window.cvId+"/comment",(function(e){var n=e.comments.filter((function(e){return!e.resolved}));if(0!==n.length){window.comments=n;var i=$(".comment-list");n.length>0&&i.addClass("have-comments-to-resolve");for(var a=0;a<window.comments.length;a++){var r=t(window.comments[a]);$(r).click((function(e){var t=$('.cv-marker[comment-id="'+$(this).attr("comment-id")+'"]');return t[0].scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),t.addClass("cv-marker--active"),setTimeout((function(){t.removeClass("cv-marker--active")}),2e3),!1})),i.append(r).hide().show("fast")}if(!localStorage.getItem("tutorialCommentStudent")){var s=introJs();introjsIntl={nextLabel:intl("tutorial.buttonsLabels.nextLabel"),prevLabel:intl("tutorial.buttonsLabels.prevLabel"),skipLabel:intl("tutorial.buttonsLabels.skipLabel"),doneLabel:intl("tutorial.buttonsLabels.doneLabel")},s.setOptions(Object.assign(introjsIntl,{scrollTo:"tooltip",showStepNumbers:!1,exitOnOverlayClick:!0,steps:[{element:document.querySelector(".comment-list-item"),intro:intl("school.tutorial.student.comment.step1"),position:"top"},{element:document.querySelector(".comment-list-item > a.resolve"),intro:intl("school.tutorial.student.comment.step2"),position:"right"},{element:document.querySelector(".comment-list-item > a.drop"),intro:intl("school.tutorial.student.comment.step3"),position:"right"}]})),setTimeout((function(){s.start()}),400),localStorage.setItem("tutorialCommentStudent","1")}var c=$(".pane__hide");c.click((function(){var e=$(".pane");$(".pane").toggleClass("pane--compressed"),e.hasClass("pane--compressed")?c.html('<i class="fa fa-expand" aria-hidden="true"></i> Voir les commentaires'):c.html('<i class="fa fa-compress" aria-hidden="true"></i> Cacher')})),window.callbackComment&&window.callbackComment()}else o(window.cvId)}))},window.callbackComment=function(){for(var e=document.querySelectorAll(".cv-page"),t=0;t<window.comments.length;t++){var n=window.comments[t],o=document.createElement("div");o.classList.add("cv-marker"),o.style.top=n.coordinates.y+"px",o.style.left=n.coordinates.x+"px",o.setAttribute("comment-id",n.id),$(o).click((function(e){var t=$('.comment-list-item[comment-id="'+$(this).attr("comment-id")+'"]');return t.click(),t.addClass("comment-list-item--active"),t[0].scrollIntoView(),$(".pane").hasClass("pane--compressed")&&($(".pane").toggleClass("pane--compressed"),$(".pane .pane__hide").html('<i class="fa fa-compress" aria-hidden="true"></i> Cacher')),window.onBodyMousedownTriggers.push((function(){t.removeClass("comment-list-item--active")})),e.preventDefault(),!1})),e[n.coordinates.page-1].appendChild(o)}};var o=function(e){requestGET("/api/v1/services/cv/"+e+"/regain",(function(e){e.success&&(window.cvLocked=!1,$(".school-options-wrapper").hide(),$("#cvHTML").hide(),void 0!==window.documentEditorV3&&window.documentEditorV3||$("#cvLoading").fadeIn("fast"),location.reload())}))};window.createCommentRow=t,window.regainControl=o,e.exports={createCommentRow:t,regainControl:o}}).call(window)},92686:(e,t,n)=>{(function(){n(69826),n(26699),n(82772),n(69600),n(21249),n(68309),n(56977),n(19601),n(47941),n(41539),n(88674),n(74916),n(39714),n(32023),n(15306),n(23123),n(73210);var t=n(38416);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?o(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}$.event.special.touchstart={setup:function(e,t,n){t.includes("noPreventDefault")?this.addEventListener("touchstart",n,{passive:!1}):this.addEventListener("touchstart",n,{passive:!0})}};var a=768,r=n(66037),s=!1;window.CVReady=new Promise((function(e){var t=setInterval((function(){if(s)return clearInterval(t),t=null,void e(!0)}),500)}));var c=$(window).scrollTop();$(window).scroll((function(){c=$(window).scrollTop()}));var d=null,l=1;function u(){void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onStartedTutorial&&window.onStartedTutorial();var e=window.outerWidth<1180,n=new r.Tour({nextText:intl("tutorial.cvV3.nextLabel"),finishText:intl("tutorial.cvV3.doneLabel"),quitText:intl("tutorial.cvV3.quitLabel"),pressKeyToContinue:[13,9],pressKeyToQuit:27});n.add(new r.Steps.Concierge({image:siteurl+"/site/template/assets/images/welcome-tutorial.png",title:intl("tutorial.cvV3.step1.title"),description:intl("tutorial.cvV3.step1.description")+" : ",containerClassname:"welcome-cv-editor"})),document.getElementById("left-toolbar__templates-menu")&&n.add(new r.Steps.Highlight({title:intl("tutorial.cvV3.step3.title"),description:intl("tutorial.cvV3.step3.description"),placement:"right",selector:"#left-toolbar__templates-menu",blockEvent:!0,delayBeforeHighlight:500}).on("beforeRenderStep",(function(t){e&&window.leftToolbar.openMenu("templates")})).on("afterRenderStep",(function(e,t){}))),document.getElementById("left-toolbar__design-menu")&&n.add(new r.Steps.Highlight({title:intl("tutorial.cvV3.step4.title"),description:intl("tutorial.cvV3.step4.description"),placement:"right",selector:"#left-toolbar__design-menu",blockEvent:!0})),n.add(new r.Steps.Highlight({title:intl("tutorial.cvV3.step5.title"),description:intl("tutorial.cvV3.step5.description"),placement:"bottom",selector:".cta-resume-download",blockEvent:!0}).on("beforeRenderStep",(function(t){e&&window.leftToolbar.closeAnyMenu()}))),document.getElementById("widget--correction")&&n.add(new r.Steps.Highlight(t({title:intl("tutorial.cvV3.step6.title"),description:intl("tutorial.cvV3.step6.description"),placement:"left",selector:"#widget--correction",delayBeforeHighlight:e?300:0,blockEvent:!0},"delayBeforeHighlight",500)).on("beforeRenderStep",(function(t){e&&window.showRightToolbar&&window.showRightToolbar()})).on("afterRenderStep",(function(e,t){}))),document.getElementById("widget--translation")&&n.add(new r.Steps.Highlight({title:intl("tutorial.cvV3.step7.title"),description:intl("tutorial.cvV3.step7.description"),placement:"left",selector:"#widget--translation",blockEvent:!0})),n.play(),e||setTimeout((function(){window.leftToolbar.openMenu("templates")}),500),n.on("finish",(function(){e&&window.showRightToolbar&&window.hideRightToolbar(),n.destroy(),window.startTutorial=!1,void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onEndedTutorial&&window.onEndedTutorial()}))}var p=function(e,t){if(e.success){var n=$('.template[action-associated="'+e.actionName+'"]');n.length&&($(".unlock-zone",n).html("<span>"+intl("editor.templates.unlocked")+"</span>"),n.attr("is-locked",0),Se&&Se()),t&&t()}else e.tutorialReason?runTutorial(e.tutorialReason):handleError(e.reason)},m=function(e,t,n,o){requestPOST("/ajax/unlocking/getFormOrExecute",(function(e){if(e.success)if(e.formHTML){var t=$(e.formHTML);feedOverlay(t),bindAjaxForm("#unlockActionForm",(function(e){p(e,o)}))}else p(e.executeResponse,o)}),{actionName:e,fromObjectType:t,fromObjectId:n})},f=function(e,t,n){m(e,"CV",t,n)},v=function(e){requestPOST("/ajax/cv/"+cvId+"/template/set",(function(t){t.success?(forceSortAll=!0,_e(t.CVHTMLCSS),ge(t.CVHTMLCSS.options),currentTemplateId=e,window.onChangedTemplate&&window.onChangedTemplate()):handleError(t.reason)}),{templateId:e})},h=function(e){v(e)},w=function(e,t){Fe(e,cvId,h,(function(){}),t)},g=function(e){e>1020?($("#rightEditorStaticBar").data("offset-y",15),$("#rightEditorStaticBar").addClass("rightalign")):($("#rightEditorStaticBar").data("offset-y",203),$("#rightEditorStaticBar").removeClass("rightalign"))};$(document).ready((function(){g($(window).width())})),$(window).resize((function(){g($(window).width())}));var b=function(e,t){var n=window.event?window.event:e,o=document.activeElement;if(o&&-1!==["input","textarea"].indexOf(o.tagName.toLowerCase()))return!1;90==n.keyCode&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),t())},C=function(){requestPOST("/ajax/cv/"+cvId+"/backToPreviousVersion",(function(e){e.success?(_e(e.CVHTMLCSS),(e.variablesUpdated||e.templateSelected)&&ge(e.CVHTMLCSS.options),e.templateSelected&&($(".template").removeClass("active"),$("#template-"+e.templateSelected).addClass("active"),currentTemplateId=e.templateSelected,window.onChangedTemplate&&window.onChangedTemplate()),window.onPrevNextDone&&window.onPrevNextDone(e.updateName)):handleError(intl("editor.notice.nothingToUndo"))}))},y=function(e,t){var n=window.event?window.event:e,o=document.activeElement;if(o&&-1!==["input","textarea"].indexOf(o.tagName.toLowerCase()))return!1;89===n.keyCode&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),t())},k=function(){requestPOST("/ajax/cv/"+cvId+"/restoreNextVersion",(function(e){e.success?(_e(e.CVHTMLCSS),(e.variablesUpdated||e.templateSelected)&&ge(e.CVHTMLCSS.options),e.templateSelected&&($(".template").removeClass("active"),$("#template-"+e.templateSelected).addClass("active"),currentTemplateId=e.templateSelected,window.onChangedTemplate&&window.onChangedTemplate()),window.onPrevNextDone&&window.onPrevNextDone(e.updateName)):handleError(intl("editor.notice.nothingToRedo"))}))};$(document).keydown((function(e){$(".modal--add-edit-content").is(":visible")||$("#overlay-wrapper").is(":visible")&&!$(".swal2-container").is(":visible")||(b(e,C),y(e,k))}));var T=function(e,t,n,o){return requestPOST("/ajax/cv/"+cvId+"/variable/"+t+"/set/"+e,(function(e){e.success?o&&"function"==typeof o?o():(_e(e.CVHTMLCSS),void 0!==window.documentEditorV3&&window.documentEditorV3&&ge(e.CVHTMLCSS.options)):handleError(e.reason)}),{value:n})},_=function(e){return new Promise((function(t,n){var o=[];$('*[information-field="true"]').each((function(){o.push({id:$(this).attr("information-id")})})),requestPOST("/ajax/updateInfRelativeOrders/"+e,(function(e){t(e)}),{information:o})}))},S=[],E={},P=function(){E={},S=[],$('*[single-content="true"]').each((function(){S.push({id:$(this).attr("single-content-id"),type:$(this).attr("single-content-type"),currentBlock:$(this).closest('div[block="true"]').attr("block-id")})}))},O=function(){var e=[];$('*[single-content="true"]').each((function(){e.push({id:$(this).attr("single-content-id"),type:$(this).attr("single-content-type"),currentBlock:$(this).closest('div[block="true"]').attr("block-id")})}));var t=[],n=[];for(var o in S)if(forceSortAll||e[o].id!==S[o].id||e[o].type!==S[o].type||e[o].currentBlock!==S[o].currentBlock){E[o]=e[o];var i=e[o].currentBlock;-1===t.indexOf(i)&&t.push(i),-1===n.indexOf(e[o].type)&&n.push(e[o].type)}if(!forceSortAll)for(var a=0;a<t.length;a++)for(var o in S)n.indexOf(S[o].type)>-1&&(E[o]=e[o])},V=function(e){return new Promise((function(t,n){var o=[],i=$('*[block="true"]');i.sort((function(e,t){var n=parseInt($(e).offset().top),o=parseInt($(t).offset().top);return n>o?1:n<o?-1:0})),i.each((function(){o.push({id:$(this).attr("block-id"),containerName:$(this).closest('*[blocks-container="true"]').attr("container-name")})})),requestPOST("/ajax/updateRelativeOrders/"+e,(function(e){forceSortAll=!1,t(e)}),{blocks:o,contents:E})}))},L={1:!1,2:!1,3:!1,4:!1,5:!1},x=function(e){var t=1;$(".cv-page:visible:not(.forbidden-zones-treated)").each((function(){var n=t+"",o=$(this).outerHeight();if(o>1122.6){var i='<div class="notice-message" style="display:none">'+intl("editor.cvEditor.forbiddenExplaination")+'<br/><a href="javascript:;" onclick="moveBlocksToOtherPage('+n+');">'+intl("editor.cvEditor.forbiddenActionLabel")+'</a> <a href="javascript:;" onclick="autoFit('+n+');">'+intl("editor.cvEditor.forbiddenZoneAction2Label")+"</a></div>";e&&(i="");var a=$('<div class="forbiddenZone'+(!0===L[n]?" upLine":"")+'">'+i+'<div class="notice-line" onclick="event.stopPropagation();">'+intl("editor.cvEditor.forbiddenNotice")+"</div></div>");a.height(Math.ceil(o-1122.6)),$(".notice-message",a).tmousedown((function(e){e.stopPropagation()})),a.tmousedown((function(e){return e.preventDefault(),e.stopPropagation(),$(this).addClass("upLine"),L[n]=!0,!1})),$(this).append(a),$(this).addClass("forbidden-zones-treated")}t++}))},I=function(e){0==$(e.target).closest(".cv-page").length&&($(".forbiddenZone").removeClass("upLine"),L={1:!1,2:!1,3:!1,4:!1,5:!1})};onBodyMousedownTriggers.push(I);var B=Date.now(),M=function(e,t){B+t-Date.now()<0&&(e(),B=Date.now())},H=function(e,t,n,o){var i=t||"#cvHTML",a=".cv-pages-list";if($('*[blocks-container="true"]').each((function(){if(n){var t=$(this).closest(".mobile-page-container");a="#"+t.attr("id")}var r,s,c=$(this),d=c.attr("container-class-connected");c.sortable({items:'> div[block="true"]',connectWith:!!d&&i+" ."+d,helper:n?"original":"clone",appendTo:a,sort:function(e,t){n&&t.helper.css({top:t.position.top/o,left:t.position.left/o});var i=e.clientY,a=$(window).scrollTop(),r=i,s=$(window).height()-i;r<10&&M((function(){$(window).scrollTop(a-5)}),10),s<10&&M((function(){$(window).scrollTop(a+5)}),10)},start:function(e,t){n&&(t.item[0].style.width="",t.item.width(t.item[0].clientWidth),t.placeholder.height(t.item[0].clientHeight));var o=$(t.item).attr("block-type");$('*[blocks-container="true"]').each((function(){var e=$(this),t=e.attr("container-restricted-types").split(",");(t.length&&-1!=t.indexOf(o)||"-1"==t)&&(e.addClass("draggingOn"),e.addClass("cv-container--is-showing"))})),c.addClass(".cv-block--is-moving"),$(this).addClass("dragging-blocks"),r=!1,s={},c.sortable("refreshPositions")},stop:function(e,t){var n=$(".cv-container");n.removeClass("draggingOn"),n.removeClass("cv-container--is-showing"),$(".cv-page").removeClass("dragging-blocks"),$(this).removeClass(".cv-block--is-moving")},receive:function(e,t){if(t.sender){var n=$(t.item).parent(),o=n.attr("container-nb-blocks"),i=n.attr("container-max-nb-blocks"),a=n.attr("container-restricted-types");"-1"!=a&&(a=a.split(","));var c=$(t.item).attr("block-type");"-1"!=a&&-1==a.indexOf(c)?r=intl("errors.cvEditor.forbiddenBlockType"):"-1"!=i&&o+1>i&&(s={maxBlocks:i},r=intl("errors.cvEditor.tooMuchBlocks",s))}r&&($(t.sender).sortable("cancel"),setTimeout((function(){handleError(r,s)}),300))},update:function(t,o){if(this===o.item.closest(".cv-container")[0]){var i=!0;if(o.sender){var a=$(o.item).closest(".cv-container"),r=a.attr("container-nb-blocks"),s=a.attr("container-max-nb-blocks"),c=a.attr("container-restricted-types");"-1"!=c&&(c=c.split(","));var d=$(o.item).attr("block-type");("-1"!=c&&-1==c.indexOf(d)||"-1"!=s&&r+1>s)&&(i=!1)}i&&(O(),V(e).then((function(e){n?n():_e(e.CVHTMLCSS)})))}}})})),!n){P(),$('*[timeline-contents-container="true"]').each((function(){$(this).sortable({items:'> div[single-content="true"]',update:function(t,n){O(),V(e).then((function(e){!1===e.success?handleError(e.reason):_e(e.CVHTMLCSS)}))}})}));var r=null;$('*[contents-container="true"]').each((function(){var t=$(this).attr("connected-to");$(this).sortable({connectWith:!!t&&i+" ."+t,items:'> div[single-content="true"]',update:function(t,n){r&&(clearTimeout(r),r=null),r=setTimeout((function(){O(),V(e).then((function(e){!1===e.success?handleError(e.reason):_e(e.CVHTMLCSS)})),r=null}),100)}})})),$('*[information-fields-container="true"]').sortable({items:'*[information-field="true"]',update:function(t,n){_(e).then((function(e){!1===e.success?handleError(e.reason):_e(e.CVHTMLCSS)}))}})}},A=function(){var e=$('*[single-content="true"]'),t=$('*[free-block-content="true"]');e.each((function(){var e=$(this).attr("single-content-id"),t=$(this).attr("single-content-type"),n=$('<a href="javascript:;" class="edit"></a>');n.click((function(){pe(t,e)})),$(this).on("dblclick",(function(n){pe(t,e)}));var o=$('<a href="javascript:;" class="delete"></a>');o.click((function(){ue(t,e)})),$(this).append($("<div>").addClass("buttons").append(n).append(o).tmousedown((function(e){e.stopPropagation()})))})),t.each((function(){var e=$(this).closest('*[block="true"]').attr("block-id"),t=$('<a href="javascript:;" class="edit"></a>');t.click((function(){me(e)})),$(this).append($("<div>").addClass("buttons").append(t).tmousedown((function(e){e.stopPropagation()})))}))},R=function(e){requestPOST("/ajax/cv/"+cvId+"/deleteBlock/"+e,(function(e){e.success?_e(e.CVHTMLCSS):handleError(e.reason)}))},j=function(e,t,n,o,i){if(e instanceof KeyboardEvent&&13===e.which||e instanceof MouseEvent){var a=$(t),r=a.text();r=r.trim(),a.blur(),i!==r&&(o?(T(a.attr("variable-name"),a.attr("variable-type"),r),$('input[variable-name="'+a.attr("variable-name")+'"]').val(r)):requestPOST("/ajax/cv/"+cvId+"/blockTitle/"+n,(function(e){e.success?_e(e.CVHTMLCSS):handleError(e.reason)}),{title:r}))}},N=function(e,t){requestPOST("/ajax/cv/"+cvId+"/blockTitle/"+t,(function(e){e.success?_e(e.CVHTMLCSS):handleError(e.reason)}),{icon:e})},D=function(e){var t=[],n=$("<span>X</span>");return n.click((function(){N("",e)})),t.push(n[0]),$.each(icons,(function(n,o){var i=$('<span class="fa '+o+'"></span>');i.click((function(){N(o,e)})),t.push(i[0])})),t},F=[],q=function(){for(var e in F){var t=F[e];t&&t.destroy&&t.destroy()}F=[],$('*[block-title="true"]').each((function(){var e=this,t=$(e);if($(e).attr("variable-type")&&$(e).attr("variable-name")){var n=new MediumEditor(t,{disableReturn:!0,disableDoubleReturn:!0,toolbar:!1,placeholder:!1,imageDragging:!1});F.push(n),t.tmousedown((function(e){e.stopPropagation()})),n.subscribe("editableKeydownEnter",(function(e,t){j(e,t,!1,!0)})),n.subscribe("blur",(function(e,t){j(e,t,!1,!0)}))}else{var o=$('<div class="options"></div>'),i=$('<span class="move"></span>'),a=$('<span class="add"><i>'+intl("editor.cvEditor.editCvBlock.addContent")+"</i></span>"),r=$('<span class="editIcon"></span>'),s=$('<span class="delete"></span>');t.prepend(o),t.attr("disabled-add-content")||o.prepend(a),o.prepend(i),o.prepend(s),t.attr("disabled-add-icon")||o.prepend(r);var c=t.attr("block-parent-id"),d=t.closest(".cv-block").attr("block-type");a.tmousedown((function(e){e.stopPropagation()})),a.click((function(){window.desktopEditor.addCVContent(d,c)}));var l=$(".title-text > span",e),u=(n=new MediumEditor(l,{disableReturn:!0,disableDoubleReturn:!0,toolbar:!1,placeholder:!1,imageDragging:!1}),l.text().trim());F.push(n),l.tmousedown((function(e){e.stopPropagation()})),n.subscribe("editableKeydownEnter",(function(e,t){j(e,t,c,!1,u)})),n.subscribe("blur",(function(e,t){j(e,t,c,!1,u)})),s.tmousedown((function(e){e.stopPropagation()})),s.click((function(){confirmBox(intl("editor.cvEditor.editCvBlock.deleteBlock"))&&R(c)})),r.tmousedown((function(e){e.stopPropagation()})),r.click((function(){for(var e=$('<div tabindex="0" id="iconsManager" onblur="$(this).remove();"></div>'),t=D(c),n=0;n<t.length;n++)e.append(t[n]);e.tmousedown((function(e){e.stopPropagation()})),$(this).parent().append(e),e.focus()}))}}))},U=function(e,t,n){window.onEditInformation(e,t)},z=function(){$('*[information-fields-container="true"]').each((function(){var e=this,t=$('<span class="edit"></span>');$(e).hover((function(){$(e).append(t),t.click((function(e){U(e)}))}),(function(){t.remove()})),$('*[information-field="true"]',e).on("dblclick",(function(e){U(e,this.classList)}))}))},W=function(){$('*[username-data-container="true"]').each((function(){$(this).click((function(){handleError(intl("editor.notice.changeUsername"))}))}))},K=function(e){var t=e.className;t.indexOf("job-sought")>-1?document.querySelector("input[name='soughtJob']").focus():t.indexOf("bio")>-1&&document.querySelector("textarea[name='bio']").focus()},G=function(){$('*[cvvariant-data-container="true"]').each((function(){var e=this;$(e).click((function(){U(null,e.classList)}))}))},Z=function(){requestPOST("/ajax/cv/"+cvId+"/photo/delete",(function(e){e.success&&_e(e.CVHTMLCSS)}))},Y=function(e){$('*[profile-picture="true"]').each((function(){var t,n=this,o=$('<span class="delete"></span>'),i="cover"===e?"portrait":"portrait"===e?"landscape":"cover",a=n;"parent"===$(this).attr("profile-picture-hovertrigger")&&(a=n.parentNode),$(a).hover((function(){t=$('<span class="orientation-mode '+i+'" title="'+intl("editor.cvEditor.changeOrientationModeTo."+i)+'"></span>'),$(n).append(o),$(n).append(t),o.click((function(){Z()})),t.click((function(){je()})),loadSpecificTooltip(t,"right")}),(function(){o.remove(),t&&t.remove()}))}))},X=function(e){var t=e.closest(".cv-page"),n=t.offset().top+t.height();e.css("top","70px"),e.offset().top+e.height()+50>n&&e.css("top","-"+(e.height()-10)+"px")},J=function(e){$(".addBlockContainer").removeClass("visible");var t=$(e).next();t.addClass("visible"),X(t)},Q=function(){$(".cv-container").addClass("showEditContents")},ee=function(){$(".cv-container").removeClass("showEditContents")};onBodyMousedownTriggers.push(ee);var te=function(e,t,n){var o=null,i=!1,a=Promise.resolve(!0);if($(".cv-page[container-page-number=1] .addBlockContainer:not(.addTimelineContentContainer), .cv-page[container-page-number=2] .addBlockContainer:not(.addTimelineContentContainer), .cv-page[container-page-number!=1][container-page-number!=2]:visible .addBlockContainer:not(.addTimelineContentContainer)").each((function(){var r=this;a.then(new Promise((function(a,s){var c=$(r),d=c.data("containerName");requestPOST("/ajax/cv/"+cvId+"/getPossibleInsertableBlocks/"+d,(function(r){if(r.possibleBlocks)if(e&&t)o||(t?r.possibleBlocks.indexOf(t)>-1&&(o=d):o=d),o&&!i&&(i=!0,requestPOST("/ajax/cv/"+cvId+"/addEmptyBlock/"+t+"/"+d,(function(e){e.success?(_e(e.CVHTMLCSS),n&&n(e.cvBlockId,t)):handleError(e.reason)})));else{var s=Object.keys(r.possibleBlocks).map((function(e,t){var n=r.possibleBlocks[e];return'<a href="javascript:;" class="new-empty-block" data-block-type="'+n+'">'+intl("editor.cvEditor.newBlockLabels."+n)+"</a>"})).join(""),l=$(s);c.html(l),c.find(".new-empty-block").each((function(){var e=$(this).data("block-type");$(this).click((function(){$(".cv-container").removeClass("cv-container--is-showing"),requestPOST("/ajax/cv/"+cvId+"/addEmptyBlock/"+e+"/"+d,(function(e){e.success?(_e(e.CVHTMLCSS),n&&n(e.cvBlockId)):handleError(e.reason)})),oe()}))}))}a(!0)}))})))})),!e){var r=$(".cv-container:visible"),s=null,c=null;if(r.each((function(){var e=$(this),t=e.offset().top,n=t+e.outerHeight(),o=$(window).scrollTop(),i=o+$(window).height();n>o+100&&t<o||t<i-100&&n>i||t>=o&&n<=i?c=e:s=e})),null===c&&s){var d=!1;"scrollBehavior"in document.documentElement.style&&(d={behavior:"smooth",block:"center"}),s.get(0).scrollIntoView&&s.get(0).scrollIntoView(d)}$(".cv-container").addClass("showAddBlock"),$(".cv-container").addClass("cv-container--is-showing")}},ne=function(e,t){return new Promise((function(o){var i=null;if($(".addBlockContainer, .addTimelineContentContainer").each((function(){var t=$(this),n=t.parents(".cv-container"),i=n.find(".addBlockButtonContainer"),a=t.data("containerName"),r=n.hasClass("timeline"),s=r?["PRO_EXPERIENCES","ASSO_EXPERIENCES","COMPLEMENTARY_EDUCATION","EDUCATION"]:n.attr("container-restricted-types").split(",");n.length>0&&(n.removeClass("showAddBlock").removeClass("cv-container--is-showing"),(s.indexOf(e)>-1||-1==s)&&n.hasClass("cv-container")&&(n.addClass("showAddBlock").addClass("cv-container--is-showing"),i.unbind("touchstart mousedown"),r?i.tmousedown((function(){se(e,window.onAddedBlockCallback),o()})):(i.html('<span class="fa fa-plus"></span> '+intl("editor.cvEditor.editContainers.addBlockHere")),i.tmousedown((function(){requestPOST("/ajax/cv/"+cvId+"/addEmptyBlock/"+e+"/"+a,(function(e){e.success?(_e(e.CVHTMLCSS),window.onAddedBlockCallback&&window.onAddedBlockCallback(),o()):(handleError(e.reason),o())}))})))))})),null==i){(i=$(".cv-page[container-page-number="+t+"] .cv-container.showAddBlock")).length||(i=$(".cv-page .cv-container.showAddBlock").first());var a=i.get(0).getBoundingClientRect();if(!(a.top>=0&&a.left>=0&&a.bottom<=(n.g.innerHeight||n.g.documentElement.clientHeight)&&a.right<=(n.g.innerWidth||n.g.documentElement.clientWidth))){var r=!0;"scrollBehavior"in document.documentElement.style&&(r={behavior:"smooth",block:"start"}),i.length&&i.get(0).scrollIntoView&&i.get(0).scrollIntoView(r)}}}))},oe=function(){$(".cv-container").removeClass("cv-container--is-showing"),$(".cv-container").removeClass("showAddBlock")};onBodyMousedownTriggers.push(oe);var ie=function(e,t){requestPOST("/ajax/cv/"+cvId+"/updateImage/"+e,(function(e){e.success&&_e(e.CVHTMLCSS)}),t)},ae=function(){$('*[single-image="true"]').each((function(){var e=this,t=$(e).attr("single-image-id"),n=$(e).attr("single-image-minw")||5,o=$(e).attr("single-image-minh")||5,i=1==$(e).attr("single-image-preserve-ratio")?1:null;$(e).draggable({containment:"parent",stop:function(){var n=$(e).offset().left-$(e).parent().offset().left,o=$(e).offset().top-$(e).parent().offset().top;ie(t,{left:n,top:o})}}),$(e).resizable({minHeight:o,minWidth:n,aspectRatio:i,containment:$(this).closest(".cv-page"),stop:function(e,n){ie(t,n.size)}});var a=$('<span class="delete"></span>');$(e).hover((function(){$(e).append(a),a.click((function(){ie(t,{delete:1})}))}),(function(){a.remove()}))}))},re=function(){var e=1,t=$(".cv-page:visible").length;$(".cv-page").each((function(){if(e>1){var n=$('<span id="page-number-'+e+'" class="page-number" ><span>'+intl("editor.cvEditor.number")+e+"</span></span>");if($(this).append(n),e===t)if(0===$(".cv-block",this).length){var o=$('<span onclick="hideLastPage()" id="cv-page-hide-'+e+'" class="cv-page-hide-button" ><span><i class="fa fa-times"></i> '+intl("editor.cvEditor.hidePage")+"</span></span>");$(this).append(o)}}e++}))},se=function(e,t){requestPOST("/ajax/cv/"+cvId+"/addBlockContentFormByType/"+e,(function(e){e.success&&window.desktopEditor.addCVContent(e.data.block_type,e.data.block_id,t)}))},ce=function(){var e=1;$('*[timeline-contents-container="true"]').each((function(){var t=this,n=$('<span class="addBlockBlurContainer"></span>');n.tmousedown((function(e){$(".addBlockContainer").removeClass("visible"),e.stopPropagation()})),$(t).prepend(n);var o=$('<span class="addBlockContainer addTimelineContentContainer" id="addTimelineContainer-'+e+'"></span>');o.tmousedown((function(e){e.stopPropagation()}));var i=$('<span class="addBlockButtonContainer"><span class="fa fa-plus"></span> '+intl("editor.cvEditor.editContainers.addTimelineContent")+"</span>");i.tmousedown((function(e){e.stopPropagation(),J(this)})),$(t).prepend(o),$(t).prepend(i);var a=$('<a href="javascript:;" class="new-empty-block">'+intl("editor.cvEditor.editContainers.timeline.addJobContent")+"</a>");a.click((function(){se("PRO_EXPERIENCES")}));var r=$('<a href="javascript:;" class="new-empty-block">'+intl("editor.cvEditor.editContainers.timeline.addDiplomaContent")+"</a>");r.click((function(){se("EDUCATION")}));var s=$('<a href="javascript:;" class="new-empty-block">'+intl("editor.cvEditor.editContainers.timeline.addAssociativeContent")+"</a>");s.click((function(){se("ASSO_EXPERIENCES")}));var c=$('<a href="javascript:;" class="new-empty-block">'+intl("editor.cvEditor.editContainers.timeline.addComplementaryDiplomaContent")+"</a>");c.click((function(){se("COMPLEMENTARY_EDUCATION")})),o.html(a).append(r).append(s).append(c),e++}))},de=function(){$('*[blocks-container="true"]').each((function(){var e=this,t=$(e).attr("container-name"),n=$('<span class="addBlockContainer" data-container-name="'+t+'"></span>');n.tmousedown((function(e){e.stopPropagation()}));var o=$('<span class="addBlockButtonContainer"><span class="fa fa-plus"></span> '+intl("editor.cvEditor.editContainers.addBlock")+"</span>");o.tmousedown((function(e){e.stopPropagation(),J(this)})),$(e).prepend(n),$(e).prepend(o);var i=$('<span class="addBlockBlurContainer"></span>');i.tmousedown((function(e){$(".addBlockContainer").removeClass("visible"),e.stopPropagation()})),$(e).prepend(i)}))},le=function(e){return new Promise((function(t,n){requestPOST("/ajax/getCVHTML/"+e,(function(e){e.success&&t(e.CVHTMLCSS)}))}))},ue=function(e,t){requestPOST("/ajax/cv/"+cvId+"/deleteContent/"+e+"/"+t,(function(e){e.success&&_e(e.CVHTMLCSS)}))},pe=function(e,t){window.desktopEditor.editCVContent(e,t)},me=function(e){window.desktopEditor.editBlockHtml(e)},fe=function(){var e=0;$(".cv-page:visible").each((function(){e++;var t=!1,n=$(".forbiddenZone",this);if(n.length>0){var o=n.offset().top;$(".cv-container .cv-block",this).each((function(){$(this).attr("current-page",e),$(this).attr("is-outside",!1),$(this).offset().top+$(this).outerHeight()>o&&($(this).attr("is-outside",!0),$('div[single-content="true"]',this).each((function(){$(this).attr("is-outside",!1),$(this).offset().top+$(this).outerHeight()>o&&$(this).attr("is-outside",!0)})),t=!0)})),!t&&n.height()>30&&(t=!0,$(".notice-message",n).html(intl("editor.cvEditor.forbiddenExplainationHeight")+'<br/> <a href="javascript:;" onclick="autoFit('+e+');">'+intl("editor.cvEditor.forbiddenZoneAction2Label")+"</a>"))}t&&(2==d||e<d)&&$(".notice-message",n).show()}))},ve=function(){if(!prevNextTutorialShown){Cookies.set("prevNextTutorialShown",1),prevNextTutorialShown=1;var e=new r.Tour({nextText:intl("tutorial.cvV3.nextLabel"),finishText:intl("tutorial.cvV3.nextLabel"),quitText:null,pressKeyToContinue:[13,9]});e.add(new r.Steps.Highlight({title:intl("tutorial.autoAdjust.prevNext.title"),description:intl("tutorial.autoAdjust.prevNext.description")+" : ",placement:"bottom",selector:".resume-prev-cta",blockEvent:!0})),e.add(new r.Steps.Highlight({title:intl("tutorial.autoAdjust.options.title"),description:intl("tutorial.autoAdjust.options.description"),placement:"right-start",selector:"#left-toolbar__design-menu",blockEvent:!0}).on("beforeRenderStep",(function(e){})).on("afterRenderStep",(function(e,t){}))),e.play(),e.on("finish",(function(){e.destroy()}))}},he=function(e){requestPOST("/ajax/cv/"+cvId+"/autoFitPages",(function(e){e.success&&(_e(e.CVHTMLCSS),ge(e.CVHTMLCSS.options),setTimeout((function(){ve()}),600))}),{pageNum:e})},we=function(e){var t=[],n=!1;$(".cv-container .cv-block",$('.cv-page[container-page-number="'+e+'"]')[0]).each((function(){if("true"==$(this).attr("is-outside")){var e=$(this).closest(".cv-container").attr("container-name"),o=$(this).attr("current-page"),i=$(this).outerHeight(),a=[],r=[];o<d?($('div[single-content="true"]',this).each((function(){"true"==$(this).attr("is-outside")?r.push({id:parseInt($(this).attr("single-content-id")),outerHeight:$(this).outerHeight()}):a.push({id:parseInt($(this).attr("single-content-id")),outerHeight:$(this).outerHeight()})})),t.push({block:$(this).attr("block-id"),blockHeight:i,validContents:a,outsideContents:r,currentContainer:e,currentPage:parseInt(o),destinationPage:parseInt(o)+1})):n=!0}})),n&&($e?$e():handleError(intl("editor.cvEditor.errors.maxNbPages"))),t.length>0&&requestPOST("/ajax/cv/"+cvId+"/autoMoveBlocks",(function(e){e.success&&(_e(e.CVHTMLCSS),setTimeout((function(){ve()}),600))}),{blocksToMove:t})};window.templateOptions=null;var ge=function(e){window.templateOptions=e,window.onRefreshedOptions()},be=function(e,t,n,o,i){e.checkPaymentForProduct(t,n).then(function(a){a.success?o&&o():e.showPaymentModal(t,n,function(){i&&i()}.bind(this))}.bind(this))},Ce=null,$e=function(){var e=window.CVDR.SERVICES.CV_INCREASE_PAGE_NUMBER_GLOBAL;null===Ce?Ce=new MicroPayment(e.orderTypeKey,window.userData,"CVOPT-5PAGES",{category:"CV/Options",list:"CV Editor"}):Ce.setOrderType(e.orderTypeKey),be(Ce,e.service,e.product,Se,(function(){Se(),Te()}))},ye=!1,ke=function(){if(!ye)return l>1?(l--,ye=!0,Se().then((function(){ye=!1}))):void 0},Te=function(){if(!ye)return ye=!0,l++,Se().then((function(){ye=!1,$(".show-more-page--buy").is(":visible")&&Ue([{name:"CVOPT-5PAGES",id:"4",price:"3.00",category:"CV/Options",list:"CV Editor"}])}))},_e=function(e,t){var n=$("#cvHTML"),o=e.css;o+=e.html,d=e.max_nb_pages,n.html(o).ready((function(){x(),fe()})),n.find(".cv-page").each((function(){parseInt($(this).attr("container-page-number"))>l&&($('.cv-block[block="true"]',this).length>0?l++:($(this).hide(),$(this).next().hide()))})),l<d?$(".cv-page:visible").last().next().after('<div class="show-more-page" onclick="showOneMorePage(this);"><span class="btn btn-gilroy alt-primary">'+intl("editor.cvEditor.microServices.pageNumber.showOneMorePage")+"</span></div>"):2===d&&window.CVDR&&window.CVDR.SERVICES&&$(".cv-page:visible").last().next().after('<div class="show-more-page show-more-page--buy"><span class="btn btn-gilroy btn-pink" onclick="buyIncreasePageNumber();">'+intl("editor.cvEditor.microServices.buyButtons.globalPageNumber",{eurPrice:window.CVDR.SERVICES.CV_INCREASE_PAGE_NUMBER_GLOBAL.eurPrice})+"</span></div>"),cvLocked?setTimeout((function(){x(!0),fe()}),0):(H(cvId),A(),q(),de(),ce(),Ve(),Me(),z(),W(),G(),re(),ae(),Y(currentCvPhotoOrientation),loadTheTooltips(),xe(),window.callbackComment&&window.callbackComment(),!t&&window.onDocumentUpdated&&window.onDocumentUpdated(e))},Se=function(){return new Promise((function(e,t){return le(cvId).then((function(t){ge(t.options),_e(t,!0),e(t)}))}))},Ee=function(){Se().then((function(e){s=!0,void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onDocumentLoaded&&window.onDocumentLoaded(),$(".show-more-page--buy").is(":visible")&&Ue([{name:"CVOPT-5PAGES",id:"4",price:"3.00",category:"CV/Options",list:"CV Editor"}]),$("#cv-loading").fadeOut("fast"),$(".school-options-wrapper").length&&$(".school-options-wrapper > .school-options").children().length>0&&$(".school-options-wrapper").fadeIn("fast"),void 0!==window.callbackLoad&&window.callbackLoad(),onCVLoaded&&onCVLoaded.map((function(e){e()}))})).then((function(){0===onCVLoaded.length&&startTutorial&&u();var e=!1;$("#cvHTML .block-lnskill").length>0&&$("#cvHTML .block-lnskill").each((function(){if($(this).text().indexOf("LANG_NOT_FOUND")>-1&&!e){var t=introJs();t.setOptions(Object.assign(introjsIntl,{scrollTo:"tooltip",disableInteraction:!0,steps:[{element:this,intro:intl("newVersion.langNotFound"),position:"top"}]})),t.start(),e=!0}})),Ue([])}))};$(document).ready((function(){if(void 0!==window.documentEditorV3&&window.documentEditorV3&&window.innerWidth<=a){var e=null,t=!1;window.addEventListener("resize",(function(){t||(e&&(clearTimeout(e),e=null),e=setTimeout((function(){window.innerWidth>a&&(Ee(),t=!0),e=null}),500))}))}else Ee()}));var Pe=function(e,t){T(t,"SIZE",e.width)},Oe=function(e,t){T(t,"SIZE",e.height)},Ve=function(){$('*[resizable="true"]').each((function(){var e=$(this),t=e.attr("resizable-min-height"),n=e.attr("resizable-max-height"),o=e.attr("resizable-min-width"),i=e.attr("resizable-max-width"),a=e.attr("resizable-handles"),r=e.attr("resizable-sibling-col"),s=e.attr("resizable-sync-col"),c=e.attr("resizable-flex"),d=null,l=null;if(r){var u=this.parentNode;d=$("."+r,u),l=d.width()}var p=null,m=null;s&&(m=$("."+s),p=m.width());var f=e.width(),v=e.height(),h={width:e.outerWidth(),height:e.outerHeight()};"100%"===i&&(i=e.parent().outerWidth());var w=0!=e.attr("resizable-constraint-ratio")?f/v:null;e.resizable({maxHeight:n||v,maxWidth:i||f,minHeight:t||v,minWidth:o||f,aspectRatio:w,handles:a||null,start:function(e,t){},resize:function(e,t){var n,o;if(d){n=Math.round(t.originalSize.width),o=Math.round(t.size.width),c&&(n=h.width,o=t.element.outerWidth());var i=n-o;d.width(l+i)}if(m){n||(n=Math.round(t.originalSize.width),o=Math.round(t.size.width),c&&(n=h.width,o=t.element.outerWidth()));i=n-o;m.width(p-i)}},stop:function(e,t){var n=$(t.element).attr("resizable-callback"),o=$(t.element).attr("variable-name");n&&window[n](t.size,o)}})}))},Le=[],xe=function(){Le=[],$(".cv-page:visible").find(".ui-resizable:not(.cv-photo):not(.cv-picture) .ui-resizable-handle").each((function(){$(this).parent().hasClass("cv-photo")||$(this).parent().hasClass("cv-picture")||($(this).hasClass("ui-resizable-w")||$(this).hasClass("ui-resizable-e"))&&(Le.push({element:this,x:Math.round($(this).offset().left),y:Math.round($(this).offset().top),h:$(this).height()}),$(this).html('<div class="ui-resizable-cursor"></div>'))}))},Ie=[],Be=0;$(document).on("mousemove",(function(e){var t=Math.round(e.pageX),n=Math.round(e.pageY);if(Date.now()-Be>70){for(var o in Ie=[],Le){var i=-1,a=Le[o].element,r=Le[o].x;i=n>(d=Le[o].y)+(l=Le[o].h)?n-(d+l):n<d?d-n:0,Math.abs(t-r)<60&&i<10?$(e.target).parents(".buttons").length||$(e.target).parents(".options").length||$(e.target).parents(".cv-picture").length||$(e.target).parents(".introjs-tooltipReferenceLayer").length||$(e.target).hasClass("introjs-overlay")||$(e.target).hasClass("cv-picture")?$(a).removeClass("visible"):($(a).addClass("visible"),Ie.push({element:a,barY:d,barH:l})):$(a).removeClass("visible")}Be=Date.now()}for(var s in Ie){var c=Ie[s].element,d=Ie[s].barY,l=Ie[s].barH,u=n-d-15;u<0?u=0:u>l-40&&(u=l-40),$(".ui-resizable-cursor",c).css("top",u+"px")}}));var Me=function(){$('*[movable-background="true"]').each((function(){$(this).backgroundDraggable({bound:!0,axis:"landscape"===currentCvPhotoOrientation?"x":"portrait"===currentCvPhotoOrientation?"y":null,done:function(e){var t=$(e).attr("movable-background-callback"),n=$(e).attr("movable-background-variable-name"),o=$(e).css("background-position").replace("px","").replace("px","").split(" "),i="50%"!==o[0]?o[0]:0,a="50%"!==o[1]?o[1]:0;n?window[t](n,i,a):window[t](i,a)}})}))},He=function(e){requestPOST("/ajax/cv/"+cvId+"/photo/size",(function(e){e.success&&_e(e.CVHTMLCSS)}),{width:parseInt(e.width),height:parseInt(e.height)})},Ae=function(e,t){requestPOST("/ajax/cv/"+cvId+"/photo/backgroundPosition",(function(e){e.success&&_e(e.CVHTMLCSS)}),{x:parseInt(e),y:parseInt(t)})},Re=function(e,t,n){$("*[movable-background-variable-name="+e+"]").addClass("movable-bg-loading"),$("*[movable-background-variable-name="+e+"]").backgroundDraggable("disable"),T(e+"X","SIZE",parseInt(t),function(){T(e+"Y","SIZE",parseInt(n))}.bind(this))},je=function(){requestPOST("/ajax/cv/"+cvId+"/photo/backgroundOrientation",(function(e){currentCvPhotoOrientation=e.currentMode,e.success&&_e(e.CVHTMLCSS)}))},Ne=function(e){e.success?window.location=e.cvEditorURL:handleError(intl("createCV."+e.reason))},De=function(e){return new Promise((function(t,n){requestPOST("/ajax/payment/getTemplatePaymentData",(function(e){e.success?t(e):e.isLocked?t(e.actionToUnlock):t(!1)}),{templateId:e})}))},Fe=function(e,t,n,o){return new Promise((function(a,r){De(e).then((function(s){if(!1!==s&&"locked"!==s){var c,d,l,u=[{id:e,name:"CVTPL-"+s.templateName.toUpperCase(),price:s.templatePrice.toString().replace(",","."),category:"CV/Templates",list:"CV Editor"+(void 0!==o?" Templates list":""),quantity:1}];window.dataLayer.push({event:"productClick",ecommerce:{click:{actionField:{list:"CV Editor"+(void 0!==o?" Templates list":"")},products:u}}}),window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"EUR",add:{products:u,items:u.map((function(e){return i(i({},e),{},{item_id:e.id,item_name:e.name,item_price:e.price,item_category:e.category,item_list_name:e.list||"CV Editor",quantity:e.quantity})}))}}});var p=parseFloat(s.templatePrice.toString().replace(",",".")),m=!1,f=!1;if(s.suggestedPack){var v=s.suggestedPack;Ue([{name:"MUTPL-"+v.name.toUpperCase(),id:v.id,price:v.price.toString().replace(",","."),category:"CV/MULTI",list:"CV Editor Template Checkout"}]);var h=v.otherItems[0],w=(parseFloat(h.price.toString().replace(",",".")),(parseFloat(v.price.toString().replace(",","."))-p).toFixed(2).toString().replace(".",","));m='<label for="checkbox-pack-select" class="basket-payout__information__summary__optional rounded-corner"><div class="basket-payout__information__summary__optional__title"><input id="checkbox-pack-select" data-pack-id="'+v.id+'" data-pack-cipher="'+v.cipher+'" data-price="'+v.price+'"  data-name="'+v.name+'" type="checkbox" /><div class="label">'+intl("editor.templates.packTitle")+'</div></div><div class="basket-payout__information__summary__box mb0">\n        <div class="basket-payout__information__summary__box__thumbnail">\n            <img src="'+h.thumbnail+'" class="shadow-card"/>\n        </div>\n        <div class="basket-payout__information__summary__box__content">\n\n            <div class="basket-payout__information__summary__box__content__title">\n                '+h.basketTitle+'\n            </div>\n            <div class="basket-payout__information__summary__box__content__summary">\n                '+h.basketSummary+'\n            </div>\n            <div class="basket-payout__information__summary__box__content__total">\n                <span class="basket-payout__information__summary__box__content__total__original basket-payout__information__summary__box__content__total__original--strike">'+h.price+'€</span>                <span class="basket-payout__information__summary__box__content__total__delta">+'+w+"€</span>            </div>\n        </div></div></label>",f=function(){if(l){var t=$(this).closest(".basket-payout__information__summary__optional"),n=l.getOrder(),a=$('button[type="submit"]',n.$getForm());if($(this).is(":checked")){window.dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:[{id:e,name:"CVTPL-"+s.templateName.toUpperCase(),price:s.templatePrice.toString().replace(",","."),category:"CV/Templates",list:"CV Editor"+(void 0!==o?" Templates list":""),quantity:1}]}}});var r=[{id:$(this).data("pack-id"),name:"MUTPL-"+$(this).data("name").toUpperCase(),price:$(this).data("price").toString().replace(",","."),category:"CV/Multi",list:"CV Editor Template Checkout",quantity:1}];window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"EUR",add:{products:r,items:r.map((function(e){return i(i({},e),{},{item_id:e.id,item_name:e.name,item_price:e.price,item_category:e.category,item_list_name:e.list||"CV Editor",quantity:e.quantity})}))}}}),u=[{id:$(this).data("pack-id"),name:"MUTPL-"+$(this).data("name").toUpperCase(),price:$(this).data("price").toString().replace(",","."),category:"CV/Multi",list:"CV Editor Template Checkout",quantity:1}],t.addClass("basket-payout__information__summary__optional--active"),n.setPageData({packId:$(this).data("pack-id"),cipher:$(this).data("pack-cipher")},!0),n.setOrderTypeKey("8"),n.createOrder(),a.addClass("cta-btn--highlight-effect1--activate"),setTimeout((function(){a.removeClass("cta-btn--highlight-effect1--activate")}),200),$("span",a).html(intl("editor.templates.payout.buyNow",{euroPrice:$(this).data("price")}))}else{window.dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:[{id:$(this).data("pack-id"),name:"MUTPL-"+$(this).data("name"),price:$(this).data("price").toString().replace(",","."),category:"CV/Multi",list:"CV Editor Template Checkout",quantity:1}]}}});var p=[{id:e,name:"CVTPL-"+s.templateName.toUpperCase(),price:s.templatePrice.toString().replace(",","."),category:"CV/Templates",list:"CV Editor"+(void 0!==o?" Templates list":""),quantity:1}];window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"EUR",add:{products:p,items:p.map((function(e){return i(i({},e),{},{item_id:e.id,item_name:e.name,item_price:e.price,item_category:e.category,item_list_name:e.list||"CV Editor",quantity:e.quantity})}))}}}),u=[{id:e,name:"CVTPL-"+s.templateName.toUpperCase(),price:s.templatePrice.toString().replace(",","."),category:"CV/Templates",list:"CV Editor"+(void 0!==o?" Templates list":""),quantity:1}],t.removeClass("basket-payout__information__summary__optional--active"),n.setOrderTypeKey("2"),n.setPageData({cipher:d},!0),n.createOrder(),a.addClass("cta-btn--highlight-effect1--activate"),setTimeout((function(){a.removeClass("cta-btn--highlight-effect1--activate")}),200),$("span",a).html(c)}}}}var g=s.templateName,b=s.templatePrice+"€";s.templateOriginalPrice&&s.templateOriginalPrice!==s.templatePrice&&(b='<span class="basket-payout__information__summary__box__content__total--strike">'+s.templateOriginalPrice+"€</span> "+s.templatePrice+"€"),(l=new OrderModal({orderTypeKey:"2",pageData:{cvId:t,templateId:e,cipher:s.templateCipher},urls:buy_template_urls},(function(e){return{}}),{classnames:{information:""},decomposeNameInputs:!1,initialValues:{email:s.user.email,firstname:null,lastname:null,name:s.user.name,address:{address1:s.address&&s.address.address1||"",city:s.address&&s.address.city||"",countryCode:s.address&&s.address.countryCode||"",postalCode:s.address&&s.address.postalCode||""}},html:{basketSummary:'<div class="basket-payout__information__summary__box '+(m?"mb20 mt20":"")+'">\n        <div class="basket-payout__information__summary__box__thumbnail">\n            <img src="'+s.templateThumbnail+'" class="shadow-card"/>\n        </div>\n        <div class="basket-payout__information__summary__box__content">\n\n            <div class="basket-payout__information__summary__box__content__title">\n                '+s.basketTitle+'\n            </div>\n            <div class="basket-payout__information__summary__box__content__summary">\n                '+s.basketSummary+'\n            </div>\n            <div class="basket-payout__information__summary__box__content__total">\n                '+b+"\n            </div>\n\n        </div>\n    </div>"+(m||""),customFieldsBefore:"",termsWording:intl("editor.templates.payout.terms"),customFieldsAfter:"",buyWording:intl("editor.templates.payout.buyNow",{euroPrice:s.templatePrice})}},(function(e){$(".swal2-popup .form-checkbox a",e).click((function(e){return $("#buy-template-terms").fadeIn(),e.preventDefault(),!1})),c=$('button[type="submit"] span',e).html(),d=l.getOrder().getPageData("cipher"),!1!==f&&$("#checkbox-pack-select").change(f)}),(function(e,t,n,o){null!==n&&n.buy_now_label&&(l.getOrder().setPageData({cipher:n.new_cipher},!0),l.getOrder().createOrder(),$('button[type="submit"] span',l.getOrder().$getForm()).html(n.buy_now_label))}),{title:intl("editor.cvEditor.successBought.title"),text:"<h3>"+intl("editor.cvEditor.successBought.subtitle",{templateName:g})+"</h3><p>"+intl("editor.cvEditor.successBought.text")+"</p>",btnLabel:intl("editor.cvEditor.successBought.confirmButton")},(function(o,a){window.dataLayer.push({event:"purchase",ecommerce:{purchase:{currency:"EUR",actionField:{id:a.getOrder().getId(),affiliation:"CVDesignR",revenue:a.getOrder().getTotal()/100,tax:a.getOrder().getTotal()/100*.2},products:u,items:u.map((function(e){return i(i({},e),{},{item_id:e.id,item_name:e.name,item_price:e.price,item_category:e.category,item_list_name:e.list||"CV Editor",quantity:e.quantity})}))}}}),n(e,t,o)}),null,(function(){a({templateId:e,cvId:t})}),(function(){window.dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:u}}}),r()}))).open()}else a({templateId:e,cvId:t})}))}))},qe=function(e){e.success&&(window.cvLocked=!1,$(".services-options-wrapper").hide(),setTimeout((function(){location.reload()}),600))},Ue=function(e){if(0==e.length){var t=$(".cv-correction-button"),n=$(".ask-for-translation");e=[];t.length&&e.push({id:2,name:"CVSRV-C-FR",price:"27.90",category:"CV/Services",list:"CV Editor"}),n.length&&e.push({id:6,name:"CVSRV-T-FREN",price:"69.90",category:"CV/Services",list:"CV Editor"})}dataLayer.push({event:"productImpression",ecommerce:{currencyCode:"EUR",impressions:e}})},ze=function(){Swal.fire({title:null,html:document.querySelector("#begin-correction").innerHTML,showCloseButton:!0,customClass:{popup:"swal2-popup--feedback",confirmButton:"cta-btn cta-btn--pink cta-btn--hover-effect1",cancelButton:"cta-btn cta-btn--transparent"},buttonsStyling:!1,cancelButtonText:'<span class="cta-btn__text cta-btn__text--black">'+intl("services.correction.step1.cancel")+"</span>",confirmButtonText:'<span class="cta-btn__text">'+intl("services.correction.step1.letsGo")+"</span>",focusConfirm:!1,showCancelButton:!0,showConfirmButton:!0,reverseButtons:!0,onBeforeOpen:function(){},onOpen:function(){},preConfirm:function(){var e=$('#begin-correction-form textarea[name="applicantComment"]'),t=$(".swal2-confirm");return t.addClass("loading"),t.attr("disabled",!0),fetch("/api/v1/applicant_service/cv_correction/"+window.cvId+"/ready",{method:"POST",credentials:"include",body:JSON.stringify({applicant_comment:e.val()})}).then((function(e){return e.json()})).then((function(e){e.success||Swal.showValidationMessage("ERROR"),t.removeClass("loading"),t.attr("disabled",!1)}))}}).then((function(e){e.value&&location.reload()}))},We=function(){Swal.fire({title:null,html:document.querySelector("#begin-commentary").innerHTML,showCloseButton:!0,customClass:{popup:"swal2-popup--feedback",confirmButton:"cta-btn cta-btn--pink cta-btn--hover-effect1",cancelButton:"cta-btn cta-btn--transparent"},buttonsStyling:!1,cancelButtonText:'<span class="cta-btn__text cta-btn__text--black">'+intl("services.commentary.step1.cancel")+"</span>",confirmButtonText:'<span class="cta-btn__text">'+intl("services.commentary.step1.letsGo")+"</span>",focusConfirm:!1,showCancelButton:!0,showConfirmButton:!0,reverseButtons:!0,onBeforeOpen:function(){},onOpen:function(){},preConfirm:function(){var e=$('#begin-correction-form textarea[name="applicantComment"]'),t=$(".swal2-confirm");return t.addClass("loading"),t.attr("disabled",!0),fetch("/api/v1/applicant_service/cv_commentary/"+window.cvId+"/ready",{method:"POST",credentials:"include",body:JSON.stringify({applicant_comment:e.val()})}).then((function(e){return e.json()})).then((function(e){e.success||Swal.showValidationMessage("ERROR"),t.removeClass("loading"),t.attr("disabled",!1)}))}}).then((function(e){e.value&&location.reload()}))},Ke=function(e){Swal.fire({title:null,html:'<div id="myOldResume"></div>',showCloseButton:!0,customClass:{popup:"swal2-popup--resume",confirmButton:"cta-btn cta-btn--pink cta-btn--hover-effect1",cancelButton:"cta-btn cta-btn--transparent"},buttonsStyling:!1,cancelButtonText:'<span class="cta-btn__text cta-btn__text--black">Fermer</span>',focusConfirm:!1,showCancelButton:!0,showConfirmButton:!1,reverseButtons:!0,onBeforeOpen:function(){},onOpen:function(){return fetch("/api/v1/cv/"+window.cvId+"/showImportedCV",{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.success&&$("#myOldResume").html(e.html)}))},preConfirm:function(){}}).then((function(e){}))};window._defineProperty=t,window.ownKeys=o,window._objectSpread=i,window.desktopEditorBreakpointWidth=a,window.Alfred=r,window.loadedCV=s,window.currentScrollTop=c,window.currentMaxNbPages=d,window.defaultShownNbPages=1,window.defaultMaxNbPages=2,window.shownNbPages=l,window.startIntro=u,window.unlockedAction=p,window.startUnlockingAction=m,window.openUnlockingTutorial=f,window.setTemplate=v,window.justMarkTemplateAsPaid=h,window.justBuyTemplate=w,window.handleOffsetYOptions=g,window.onKeyDownCTRLZ=b,window.onCTRLZ=C,window.onKeyDownCTRLY=y,window.onCTRLY=k,window.updateCvVariantVariable=T,window.saveInformationRelativeSort=_,window.cvContentsStructure=S,window.lastCvContentsStructureDiff=E,window.initContentsSortCalculator=P,window.makeDiffContentsSort=O,window.saveRelativeSort=V,window.upLined=L,window.showForbiddenZones=x,window.showAgainForbiddenZones=I,window.timeScroll=B,window.throttleScroll=M,window.bindCvDataSortable=H,window.bindCvContentEditable=A,window.deleteCvBlock=R,window.pushNewCvTitle=j,window.chooseIco=N,window.iconsList=D,window.bindedCVTitles=F,window.bindCvTitles=q,window.openMyApplicationInformation=U,window.bindEditableInformation=z,window.bindEditableUsername=W,window.callbackFocusOption=K,window.bindEditableCvGeneralInfo=G,window.deleteProfilePicture=Z,window.bindActionsProfilePicture=Y,window.checkContainerMoveToTop=X,window.showAvailableBlocks=J,window.showBlockContents=Q,window.hideBlockContents=ee,window.showAddBlocks=te,window.showInsertBlockHere=ne,window.hideAddBlocks=oe,window.updateCvImage=ie,window.bindEditImage=ae,window.bindPagesCounter=re,window.addTimeLineContentByType=se,window.bindTimelineContainerOptions=ce,window.bindCvContainerOptions=de,window.getCV=le,window.deleteCvContent=ue,window.editCvContent=pe,window.editFreeContent=me,window.detectBlockInRedZone=fe,window.showPreviousNextButtons=ve,window.autoFit=he,window.moveBlocksToOtherPage=we,window.refreshTemplateOptions=ge,window.buyMicroService=be,window.microPayment=Ce,window.buyIncreasePageNumber=$e,window.loadingMorePage=ye,window.hideLastPage=ke,window.showOneMorePage=Te,window.refreshCVFromHTMLCSS=_e,window.getCurrentCV=Se,window.initDesktopVersion=Ee,window.updateCVSizeColumn=Pe,window.updateCVVariableHeight=Oe,window.bindResizableElements=Ve,window.resizableBars=Le,window.bindMouseResizeHandlers=xe,window.visibleBars=Ie,window.lastMove=Be,window.bindMovableElements=Me,window.resizedCvPhoto=He,window.movedBackgroundPhoto=Ae,window.movedCVVariableBackgroundPhoto=Re,window.changeOrientationModePhoto=je,window.createdCV=Ne,window.getTemplatePaymentData=De,window.getTemplate=Fe,window.regainedControl=qe,window.ecommerceImpression=Ue,window.beginCorrection=ze,window.beginCommentary=We,window.showMyOldResume=Ke,e.exports={_defineProperty:t,ownKeys:o,_objectSpread:i,desktopEditorBreakpointWidth:a,Alfred:r,loadedCV:s,currentScrollTop:c,currentMaxNbPages:d,defaultShownNbPages:1,defaultMaxNbPages:2,shownNbPages:l,startIntro:u,unlockedAction:p,startUnlockingAction:m,openUnlockingTutorial:f,setTemplate:v,justMarkTemplateAsPaid:h,justBuyTemplate:w,handleOffsetYOptions:g,onKeyDownCTRLZ:b,onCTRLZ:C,onKeyDownCTRLY:y,onCTRLY:k,updateCvVariantVariable:T,saveInformationRelativeSort:_,cvContentsStructure:S,lastCvContentsStructureDiff:E,initContentsSortCalculator:P,makeDiffContentsSort:O,saveRelativeSort:V,upLined:L,showForbiddenZones:x,showAgainForbiddenZones:I,timeScroll:B,throttleScroll:M,bindCvDataSortable:H,bindCvContentEditable:A,deleteCvBlock:R,pushNewCvTitle:j,chooseIco:N,iconsList:D,bindedCVTitles:F,bindCvTitles:q,openMyApplicationInformation:U,bindEditableInformation:z,bindEditableUsername:W,callbackFocusOption:K,bindEditableCvGeneralInfo:G,deleteProfilePicture:Z,bindActionsProfilePicture:Y,checkContainerMoveToTop:X,showAvailableBlocks:J,showBlockContents:Q,hideBlockContents:ee,showAddBlocks:te,showInsertBlockHere:ne,hideAddBlocks:oe,updateCvImage:ie,bindEditImage:ae,bindPagesCounter:re,addTimeLineContentByType:se,bindTimelineContainerOptions:ce,bindCvContainerOptions:de,getCV:le,deleteCvContent:ue,editCvContent:pe,editFreeContent:me,detectBlockInRedZone:fe,showPreviousNextButtons:ve,autoFit:he,moveBlocksToOtherPage:we,refreshTemplateOptions:ge,buyMicroService:be,microPayment:Ce,buyIncreasePageNumber:$e,loadingMorePage:ye,hideLastPage:ke,showOneMorePage:Te,refreshCVFromHTMLCSS:_e,getCurrentCV:Se,initDesktopVersion:Ee,updateCVSizeColumn:Pe,updateCVVariableHeight:Oe,bindResizableElements:Ve,resizableBars:Le,bindMouseResizeHandlers:xe,visibleBars:Ie,lastMove:Be,bindMovableElements:Me,resizedCvPhoto:He,movedBackgroundPhoto:Ae,movedCVVariableBackgroundPhoto:Re,changeOrientationModePhoto:je,createdCV:Ne,getTemplatePaymentData:De,getTemplate:Fe,regainedControl:qe,ecommerceImpression:Ue,beginCorrection:ze,beginCommentary:We,showMyOldResume:Ke}}).call(window)},10675:(e,t,n)=>{(function(){n(26833),window.callbackLoad=function(){$("#school-actions").show("fast"),requestGET(window.cv_get_document_diff,(function(e){var n=e.computed_diff.curriculum_vitae,i=o(n);t(i)}))};var t=function(e){for(var t=0;t<e.length;t++)e[t].addClass("highlight-correction")},o=function(e){var t=[];if(e&&(void 0!==e.meta&&(void 0!==e.meta.bio&&t.push($(".cv-bio")),void 0!==e.meta.title&&t.push($(".cv-job-sought")),void 0!==e.meta.template&&void 0!==e.meta.template.id&&t.push($(".cv-page")),void 0!==e.meta.picture&&void 0!==e.meta.picture.id&&t.push($(".cv-photo")),void 0!==e.meta.informations&&t.push($("*[information-fields-container]"))),void 0!==e.sections))for(var n=Object.values(e.sections),o=0;o<n.length;o++)if(void 0!==n[o].record_id)t.push($('*[block-id="'+n[o].record_id+'"]'));else{var i=$('div[block-id="'+n[o].items_block_id+'"]');if(void 0!==n[o].items)for(var a=Object.values(n[o].items),r=0;r<a.length;r++)t.push($('*[single-content-id="'+a[r].id+'"]',i))}return t},i=function(){$("#editMainInformation").toggle(),$("#cvOptionsWrapper").toggle(),$("#addBlock").toggle(),$("#addContent").toggle(),$("#undoRedo").toggle(),$("#school-actions").toggle(),$("#cvTemplatesOptions").toggle(),$("#cvProfilePictureToggler").toggle(),$("#addPageImage-1").toggle(),$("#addPageImage-2").toggle(),$(".correction-last").toggle(),$(".correction-initial").toggle()},a=function(e){e.success&&(window.cvLocked=!0,refreshCVFromHTMLCSS(e.CVHTMLCSS),refreshCVOptionsFromHTML(""),i())},r=function(e){e.success&&(canBeUnlocked&&(window.cvLocked=!1),refreshCVFromHTMLCSS(e.CVHTMLCSS),refreshCVOptionsFromHTML(e.CVHTMLCSS.optionsHTML),i())};window.highlightSelector=t,window.selectorsToHighlight=o,window.toggleSettings=i,window.loadInitialVersion=a,window.loadLastVersion=r,e.exports={highlightSelector:t,selectorsToHighlight:o,toggleSettings:i,loadInitialVersion:a,loadLastVersion:r}}).call(window)},37520:(e,t,n)=>{(function(){n(69826),n(69600),n(74916),n(15306),n(73210),$(document).ready((function(){$('input[name="collect"].disabled').tooltipster({delay:200,theme:"tooltipster-borderless",trigger:"custom",triggerOpen:{click:!0},triggerClose:{click:!0,scroll:!0,tap:!0,mouseleave:!0}}),$('input[name="collect"].disabled').click((function(e){$(this).hasClass("disabled")&&e.preventDefault()}))}));var t=function(e,t){$('input[name="collect"]').removeAttr("disabled"),$('input[name="collect"]').removeAttr("title"),$('input[name="collect"]').removeClass("disabled"),$('input[name="collect"]').hasClass("tooltipstered")&&$('input[name="collect"]').tooltipster("destroy"),$(".help-us .sumary").show();var n=$(e).parent();$("a",n).removeClass("active"),$(e).addClass("active");var o=parseInt(n.data("depth")),i=o+1;$('input[name="chosenGroupLvl'+a+'"]').val(""),$('input[name="chosenGroupLvl'+o+'"]').val(t);for(var a=i;a<=4;a++)$("#subgroup"+a).empty(),$('input[name="chosenGroupLvl'+a+'"]').val("");for(a=o;a<=4;a++)$("#subgroup"+a).removeClass("hoverable");for(a=i+1;a<=4;a++)$("#subgroup"+a).removeClass("visible");o<4&&$(".choose-group").removeClass("active"),requestGET(isco_load_subgroups_URL.replace("%groupId%",t),(function(e){if(e.success){for(var t in e.items){var o=e.items[t],a=$("<a/>");a.attr("href","javascript:;"),a.attr("onclick","chooseAndLoadSubGroup(this, "+o.id+")"),a.html(o.label),$("#subgroup"+i).append(a)}$("#subgroup"+i).addClass("active"),$("#subgroup"+i).addClass("visible"),n.mouseleave((function(){n.hasClass("hoverable")||setTimeout((function(){n.addClass("hoverable")}),50)}))}}));var r=[];$(".choose-group.visible").find("a.active").each((function(){r.push('<span title="'+$(this).text().trim()+'">'+$(this).text()+"</span>")})),r=r.join(" > "),$("#chosenSumary").html(r)},o=function(e){e.success?clearOverlay():handleError(e.reason)};window.chooseAndLoadSubGroup=t,window.collectedUserOccupation=o,e.exports={chooseAndLoadSubGroup:t,collectedUserOccupation:o}}).call(window)},35661:(e,t,n)=>{(function(){n(92222),n(57327),n(69826),n(89554),n(26699),n(82772),n(69600),n(21249),n(68309),n(56977),n(19601),n(47941),n(41539),n(88674),n(24603),n(74916),n(39714),n(27852),n(32023),n(15306),n(23123),n(23157),n(73210),n(54747);var t=n(38416);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?o(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function r(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}$.event.special.touchstart={setup:function(e,t,n){t.includes("noPreventDefault")?this.addEventListener("touchstart",n,{passive:!1}):this.addEventListener("touchstart",n,{passive:!0})}};var c=n(66037),d=!1;window.CVReady=new Promise((function(e){var t=setInterval((function(){if(d)return clearInterval(t),t=null,void e(!0)}),500)}));var l=$(window).scrollTop();$(window).scroll((function(){l=$(window).scrollTop()})),window.emptyInformations=[];var u,p={FACEBOOK:"www.facebook.com/%username%",RESEARCHGATE:"www.researchgate.net/profile/%username%",LINKEDIN:"www.linkedin.com/in/%username%",INSTAGRAM:"www.instagram.com/%username%",TWITTER:"twitter.com/%username%",YOUTUBE:"www.youtube.com/%username%",PINTEREST:"www.pinterest.com/%username%",GOOGLEPLUS:"plus.google.com/%username%",TUMBLR:"%username%.tumblr.com",GITHUB:"github.com/%username%",DEVIANTART:"www.deviantart.com/%username%",DRIBBBLE:"dribbble.com/%username%",BEHANCE:"behance.net/%username%",SKYPE:"skype:%username%",WECHAT:"weixin://dl/chat?%username%",GITLAB:"www.gitlab.com/%username%",TWITCH:"twitch.tv/%username%",TIKTOK:"tiktok.com/%username%",STACKOVERFLOW:"stackoverflow.com/users/%username%"},m=null,f=1,v=("draggable"in(u=document.createElement("div"))||"ondragstart"in u&&"ondrop"in u)&&"FormData"in window&&"FileReader"in window,h=function(e,t,n,o){var i=e.find('input[type="file"]'),a=!1;i.on("change",(function(t){e.trigger("submit")})),v?e.addClass("has-advanced-upload").on("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()})).on("dragover dragenter",(function(){e.addClass("is-dragover")})).on("dragleave dragend drop",(function(){e.removeClass("is-dragover")})).on("drop",(function(t){a=t.originalEvent.dataTransfer.files,e.trigger("submit")})):e.on("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault(),e.stopPropagation()})).on("dragover dragenter",(function(){e.addClass("is-dragover")})).on("dragleave dragend drop",(function(){e.removeClass("is-dragover")})).on("drop",(function(t){$('input[type="submit"]',e).trigger("click")})),e.on("submit",(function(r){if(e.hasClass("is-uploading"))return!1;if(e.addClass("is-uploading"),n&&n(),v){r.preventDefault();var s=new FormData(e.get(0));a&&$.each(a,(function(e,t){s.append(i.attr("name"),t)})),$.ajax({url:e.attr("action"),type:e.attr("method"),data:s,dataType:"json",cache:!1,contentType:!1,processData:!1,complete:function(){e.removeClass("is-uploading")},error:function(t,n){o&&o(t,n),e.removeClass("is-uploading")},success:function(n){t&&t(n),e[0].reset(),a=null}})}else{var c="uploadiframe"+(new Date).getTime(),d=$('<iframe name="'+c+'" style="display: none;"></iframe>');$("body").append(d),e.attr("target",c),d.one("load",(function(){var n=$.parseJSON(d.contents().find("body").text());e.removeClass("is-uploading").removeAttr("target"),t&&t(n),e[0].reset(),a=null,d.remove()}))}})),i.on("focus",(function(){i.addClass("has-focus")})).on("blur",(function(){i.removeClass("has-focus")}))},w=!1,g=function(){w||(w=!0,$("select.select2.sl2init").select2({}))},b=!1,C=function(e){if(e&&e(),!b){b=!0,$("#updateMyInformation select.select2").select2({minimumResultsForSearch:10});var t=function(){var e=$(this).val(),t=$(this).hasClass("related-control-indicator--ignoreblank"),n=$(this).closest(".form-group-col").prev();$('input[type="checkbox"]',n).prop("checked")||""==e?""!=e||t||$('input[type="checkbox"]',n).prop("checked",!1):$('input[type="checkbox"]',n).prop("checked",!0)};$(".related-control-indicator").on("input",t),$(".related-control-indicator--onchange").on("change",t),$(".nav-tabs a").on("click",(function(e){e.preventDefault(),$(".nav-item").removeClass("active"),$(this).parent().addClass("active"),$(".tab-pane").removeClass("in active"),$(""+$(this).parent().prevObject[0].hash).addClass("in active")}))}},y=$(".phone"),k=$(".mobilePhone");function T(){void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onStartedTutorial&&window.onStartedTutorial();var e=window.outerWidth<1180,n=new c.Tour({nextText:intl("tutorial.cvV3.nextLabel"),finishText:intl("tutorial.cvV3.doneLabel"),quitText:intl("tutorial.cvV3.quitLabel"),pressKeyToContinue:[13,9],pressKeyToQuit:27});n.add(new c.Steps.Concierge({image:siteurl+"/site/template/assets/images/welcome-tutorial.png",title:intl("tutorial.cvV3.step1.title"),description:intl("tutorial.cvV3.step1.description")+" : ",containerClassname:"welcome-cv-editor"})),document.getElementById("left-toolbar__templates-menu")&&n.add(new c.Steps.Highlight({title:intl("tutorial.cvV3.step3.title"),description:intl("tutorial.cvV3.step3.description"),placement:"right",selector:"#left-toolbar__templates-menu",blockEvent:!0,delayBeforeHighlight:500}).on("beforeRenderStep",(function(t){e&&window.leftToolbar.openMenu("templates")})).on("afterRenderStep",(function(e,t){}))),document.getElementById("left-toolbar__design-menu")&&n.add(new c.Steps.Highlight({title:intl("tutorial.cvV3.step4.title"),description:intl("tutorial.cvV3.step4.description"),placement:"right",selector:"#left-toolbar__design-menu",blockEvent:!0})),n.add(new c.Steps.Highlight({title:intl("tutorial.cvV3.step5.title"),description:intl("tutorial.cvV3.step5.description"),placement:"bottom",selector:".cta-resume-download",blockEvent:!0}).on("beforeRenderStep",(function(t){e&&window.leftToolbar.closeAnyMenu()}))),document.getElementById("widget--correction")&&n.add(new c.Steps.Highlight(t({title:intl("tutorial.cvV3.step6.title"),description:intl("tutorial.cvV3.step6.description"),placement:"left",selector:"#widget--correction",delayBeforeHighlight:e?300:0,blockEvent:!0},"delayBeforeHighlight",500)).on("beforeRenderStep",(function(t){e&&window.showRightToolbar&&window.showRightToolbar()})).on("afterRenderStep",(function(e,t){}))),document.getElementById("widget--translation")&&n.add(new c.Steps.Highlight({title:intl("tutorial.cvV3.step7.title"),description:intl("tutorial.cvV3.step7.description"),placement:"left",selector:"#widget--translation",blockEvent:!0})),n.play(),e||setTimeout((function(){window.leftToolbar.openMenu("templates")}),500),n.on("finish",(function(){e&&window.showRightToolbar&&window.hideRightToolbar(),n.destroy(),window.startTutorial=!1,void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onEndedTutorial&&window.onEndedTutorial()}))}y.intlTelInput({preferredCountries:[cv_destination_country],placeholderNumberType:"FIXED_LINE",initialCountry:cv_destination_country,utilsScript:assetsurl+"/libs/intltelinput/utils.js",formatOnDisplay:!1}),y.change((function(){var e=$(this).intlTelInput("getSelectedCountryData"),t=$(this).attr("name").replace("[number]","[prefix]");$('input[name="'+t+'"]').val(e.dialCode)})),k.intlTelInput({preferredCountries:[cv_destination_country],placeholderNumberType:"MOBILE",initialCountry:cv_destination_country,utilsScript:assetsurl+"/libs/intltelinput/utils.js",formatOnDisplay:!1}),k.change((function(){var e=$(this).intlTelInput("getSelectedCountryData"),t=$(this).attr("name").replace("[number]","[prefix]");$('input[name="'+t+'"]').val(e.dialCode)}));var _=function(e,t){if(e.success){var n=$('.template[action-associated="'+e.actionName+'"]');n.length&&($(".unlock-zone",n).html("<span>"+intl("editor.templates.unlocked")+"</span>"),n.attr("is-locked",0),Ot&&Ot()),t&&t()}else e.tutorialReason?runTutorial(e.tutorialReason):handleError(e.reason)},S=function(e,t,n,o){requestPOST("/ajax/unlocking/getFormOrExecute",(function(e){if(e.success)if(e.formHTML){var t=$(e.formHTML);feedOverlay(t),bindAjaxForm("#unlockActionForm",(function(e){_(e,o)}))}else _(e.executeResponse,o)}),{actionName:e,fromObjectType:t,fromObjectId:n})},E=function(e,t,n){S(e,"CV",t,n)},P=function(e){e?($("#cvTemplatesOptions a.search").addClass("searching"),$(".template").hide(),$(".template").each((function(){var t=$(this).data("template-name");t&&t.toLowerCase().indexOf(e.toLowerCase())>-1&&$(this).show()}))):($("#cvTemplatesOptions a.search").removeClass("searching"),$(".template").show())},O=function(){$("#cvTemplatesSearch").toggle(),$("#cvTemplatesSearch").is(":visible")&&$("#cvTemplatesSearch input").focus()},V=function(){$("#cvTemplatesSearch").hide()},L=function(){$("#cvTemplates").addClass("hideTemplates"),$("#cvTemplatesOptions").addClass("hideTemplates"),$("#bg-overlay").removeClass("visible")},x=function(){$("#cvTemplates .template").each((function(){var e=$(this).data("templatePreviewUrl");$(this).css("background-image","url("+e+")")})),$("#cvTemplates").removeClass("hideTemplates"),$("#cvTemplatesOptions").removeClass("hideTemplates"),$("#bg-overlay").addClass("visible");var e=[];$("#cvTemplates .template.paid").each((function(t){var n=$(this);e.push({name:"CVTPL-"+n.data("template-name").toUpperCase(),id:n.data("template-id"),price:n.data("template-price").toString().replace(",","."),category:"CV/Templates",list:"CV Editor Templates list",position:n.data("template-sort")})})),Yt(e)};onBodyMousedownTriggers.push(V),onBodyMousedownTriggers.push(L);var I=function(){$("#cvTemplates").toggleClass("hideTemplates"),$("#cvTemplates").hasClass("hideTemplates")?L():x()},B=function(e){void 0!==window.documentEditorV3&&window.documentEditorV3||$(".template").removeClass("active"),requestPOST("/ajax/cv/"+cvId+"/template/set",(function(t){if(t.success)if(forceSortAll=!0,Et(t.CVHTMLCSS),bt(t.CVHTMLCSS.optionsHTML),Ct(t.CVHTMLCSS.options),currentTemplateId=e,void 0!==window.documentEditorV3&&window.documentEditorV3)window.onChangedTemplate&&window.onChangedTemplate();else{var n=$("#template-"+e);n.addClass("active"),L(),t.CVHTMLCSS.is_template_locked&&n.data("template-name")&&window.dataLayer.push({event:"productDetail",ecommerce:{detail:{products:[{id:e,name:"CVTPL-"+n.data("template-name").toUpperCase(),price:n.data("template-price").toString().replace(",","."),category:"CV/Templates",list:"CV Editor"}]}}})}else handleError(t.reason)}),{templateId:e})},M=function(e){void 0!==window.documentEditorV3&&window.documentEditorV3||($("#template-"+e).removeClass("paid"),$("#template-"+e+" .buy-zone").html("<span>"+intl("editor.templates.bought")+"</span>"));B(e)},H=function(e,t){Gt(e,cvId,M,(function(){}),t)};$("#cvTemplates").tmousedown((function(e){e.stopPropagation()})),$(".searchLayout").tmousedown((function(e){"undefined"!=typeof ga&&e.stopPropagation()})),$(".editLayout").click((function(){I()})),$(".searchLayout").click((function(){O()})),$(".template").click((function(){B($(this).data("templateId"))}));var A=function(e){e>1020?($("#rightEditorStaticBar").data("offset-y",15),$("#rightEditorStaticBar").addClass("rightalign")):($("#rightEditorStaticBar").data("offset-y",203),$("#rightEditorStaticBar").removeClass("rightalign"))};$(document).ready((function(){A($(window).width())})),$(window).resize((function(){A($(window).width())}));var R=function(e,t){var n=window.event?window.event:e,o=document.activeElement;if(o&&-1!==["input","textarea"].indexOf(o.tagName.toLowerCase()))return!1;90==n.keyCode&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),t())},j=function(){requestPOST("/ajax/cv/"+cvId+"/backToPreviousVersion",(function(e){e.success?(Et(e.CVHTMLCSS),(e.variablesUpdated||e.templateSelected)&&(bt(e.CVHTMLCSS.optionsHTML),Ct(e.CVHTMLCSS.options)),e.templateSelected&&($(".template").removeClass("active"),$("#template-"+e.templateSelected).addClass("active"),currentTemplateId=e.templateSelected,void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onChangedTemplate&&window.onChangedTemplate()),void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onPrevNextDone&&window.onPrevNextDone(e.updateName)):handleError(intl("editor.notice.nothingToUndo"))}))},N=function(e,t){var n=window.event?window.event:e,o=document.activeElement;if(o&&-1!==["input","textarea"].indexOf(o.tagName.toLowerCase()))return!1;89===n.keyCode&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),t())},D=function(){requestPOST("/ajax/cv/"+cvId+"/restoreNextVersion",(function(e){e.success?(Et(e.CVHTMLCSS),(e.variablesUpdated||e.templateSelected)&&(bt(e.CVHTMLCSS.optionsHTML),Ct(e.CVHTMLCSS.options)),e.templateSelected&&($(".template").removeClass("active"),$("#template-"+e.templateSelected).addClass("active"),currentTemplateId=e.templateSelected,void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onChangedTemplate&&window.onChangedTemplate()),void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onPrevNextDone&&window.onPrevNextDone(e.updateName)):handleError(intl("editor.notice.nothingToRedo"))}))};$(document).keydown((function(e){$("#overlay-wrapper").is(":visible")&&!$(".swal2-container").is(":visible")||(R(e,j),N(e,D))}));var F=function(e,t,n,o){return requestPOST("/ajax/cv/"+cvId+"/variable/"+t+"/set/"+e,(function(e){e.success?o&&"function"==typeof o?o():(Et(e.CVHTMLCSS),void 0!==window.documentEditorV3&&window.documentEditorV3&&(bt(e.CVHTMLCSS.optionsHTML),Ct(e.CVHTMLCSS.options))):handleError(e.reason)}),{value:n})},q=function(e){requestPOST(cv_remove_driving_license_URL+e,(function(t){t.success?($("#drivingLicense-"+e).remove(),Et(t.CVHTMLCSS)):handleError(t.reason)}))},U=function(e){var t=$('input[name="customRawMobility"]').val(),n=[];t.indexOf(",")>-1?n=t.split(",").map((function(e){return e.trim()})):n.push(t.trim()),0!=t.trim().length&&(n=n.filter((function(e){return e.trim().length>0})),requestPOST("/ajax/cv/"+window.cvId+"/information/set/mobility",(function(e){e.success&&e.mobilities.forEach((function(t){var n=$("<span>x</span>");n.click((function(){Y(t.id)}));var o=$('<div class="tag" id="mobility-'+t.id+'">'+t.value+" </div>");o.append(n),$("#mobilitiesList").append(o),$('input[name="customRawMobility"]').val(""),Et(e.CVHTMLCSS)}))}),{mobilities:n}))},z=function(e){var t=$("#customDL").val();return requestPOST(cv_add_driving_license_URL,(function(e){if(e.success){var t=$("<span>x</span>");t.click((function(){q(e.drivingLicenseId)}));var n=$('<div class="tag" id="drivingLicense-'+e.drivingLicenseId+'">'+e.label+" </div>");n.append(t),$("#drivingLicensesList").append(n),Et(e.CVHTMLCSS)}else handleError(e.reason)}),{custom:t}),$("#customDL").val(""),$("#customDL").hide(),!1},W=function(){var e=$(this).val();-1==e?($("#customDL").show(),$("#customDL").focus()):requestPOST(cv_add_driving_license_URL,(function(e){if(e.success){var t=$("<span>x</span>");t.click((function(){q(e.drivingLicenseId)}));var n=$('<div class="tag" id="drivingLicense-'+e.drivingLicenseId+'">'+e.label+" </div>");n.append(t),$("#drivingLicensesList").append(n),Et(e.CVHTMLCSS)}else handleError(e.reason)}),{key:e}),$(this).val(0)},K=function(){var e=$(this).val();requestPOST(cv_set_marital_status,(function(e){e.success?Et(e.CVHTMLCSS):handleError(e.reason)}),{maritalStatusKey:e})},G=function(){var e=$(this).val();requestPOST(cv_set_remote_work,(function(e){e.success?Et(e.CVHTMLCSS):handleError(e.reason)}),{remoteWork:e})},Z=function(){var e=$(this).val();requestPOST(cv_set_nationality,(function(e){e.success?Et(e.CVHTMLCSS):handleError(e.reason)}),{nationalityId:e})};$(document).ready((function(){var e=$("#customDL");$("#chooseDrivingLicenses").change(W),$("#submitInformation").on("click",(function(){e.val().length>=1&&z()})),$("#customDL").on("keydown",(function(e){if(13==e.keyCode)return z(),e.preventDefault(),!1})),$("#chooseMaritalStatus").change(K),$("#chooseRemoteWork").change(G),$("#chooseNationality").change(Z),$('input[name="customRawMobility"]').on("keydown blur",(function(e){if("keydown"===e.type&&13===e.keyCode||"blur"===e.type)return U(),e.preventDefault(),!1}))}));var Y=function(e){requestPOST(cv_remove_mobility+e,(function(t){t.success?($("#mobility-"+e).remove(),t.empty&&$('input[name="cvInformationFieldVisibility[GEO_MOBILITY]"]').prop("checked",!1),Et(t.CVHTMLCSS)):handleError(t.reason)}))},X=function(e){return new Promise((function(t,n){var o=[];$('*[information-field="true"]').each((function(){o.push({id:$(this).attr("information-id")})})),requestPOST("/ajax/updateInfRelativeOrders/"+e,(function(e){t(e)}),{information:o})}))},J=[],Q={},ee=function(){Q={},J=[],$('*[single-content="true"]').each((function(){J.push({id:$(this).attr("single-content-id"),type:$(this).attr("single-content-type"),currentBlock:$(this).closest('div[block="true"]').attr("block-id")})}))},te=function(){var e=[];$('*[single-content="true"]').each((function(){e.push({id:$(this).attr("single-content-id"),type:$(this).attr("single-content-type"),currentBlock:$(this).closest('div[block="true"]').attr("block-id")})}));var t=[],n=[];for(var o in J)if(forceSortAll||e[o].id!==J[o].id||e[o].type!==J[o].type||e[o].currentBlock!==J[o].currentBlock){Q[o]=e[o];var i=e[o].currentBlock;-1===t.indexOf(i)&&t.push(i),-1===n.indexOf(e[o].type)&&n.push(e[o].type)}if(!forceSortAll)for(var a=0;a<t.length;a++)for(var o in J)n.indexOf(J[o].type)>-1&&(Q[o]=e[o])},ne=function(e){return new Promise((function(t,n){var o=[],i=$('*[block="true"]');i.sort((function(e,t){var n=parseInt($(e).offset().top),o=parseInt($(t).offset().top);return n>o?1:n<o?-1:0})),i.each((function(){o.push({id:$(this).attr("block-id"),containerName:$(this).closest('*[blocks-container="true"]').attr("container-name")})})),requestPOST("/ajax/updateRelativeOrders/"+e,(function(e){forceSortAll=!1,t(e)}),{blocks:o,contents:Q})}))},oe={1:!1,2:!1,3:!1,4:!1,5:!1},ie=function(e){var t=1;$(".cv-page:visible:not(.forbidden-zones-treated)").each((function(){var n=t+"",o=$(this).outerHeight();if(o>1122.6){var i='<div class="notice-message" style="display:none">'+intl("editor.cvEditor.forbiddenExplaination")+'<br/><a href="javascript:;" onclick="moveBlocksToOtherPage('+n+');">'+intl("editor.cvEditor.forbiddenActionLabel")+'</a> <a href="javascript:;" onclick="autoFit('+n+');">'+intl("editor.cvEditor.forbiddenZoneAction2Label")+"</a></div>";e&&(i="");var a=$('<div class="forbiddenZone'+(!0===oe[n]?" upLine":"")+'">'+i+'<div class="notice-line" onclick="event.stopPropagation();">'+intl("editor.cvEditor.forbiddenNotice")+"</div></div>");a.height(Math.ceil(o-1122.6)),$(".notice-message",a).tmousedown((function(e){e.stopPropagation()})),a.tmousedown((function(e){return e.preventDefault(),e.stopPropagation(),$(this).addClass("upLine"),oe[n]=!0,!1})),$(this).append(a),$(this).addClass("forbidden-zones-treated")}t++}))},ae=function(e){0==$(e.target).closest(".cv-page").length&&($(".forbiddenZone").removeClass("upLine"),oe={1:!1,2:!1,3:!1,4:!1,5:!1})};onBodyMousedownTriggers.push(ae);var re=Date.now(),se=function(e,t){re+t-Date.now()<0&&(e(),re=Date.now())},ce=function(e,t,n,o){var i=t||"#cvHTML",a=".cv-pages-list";if($('*[blocks-container="true"]').each((function(){if(n){var t=$(this).closest(".mobile-page-container");a="#"+t.attr("id")}var r,s,c=$(this),d=c.attr("container-class-connected");c.sortable({items:'> div[block="true"]',connectWith:!!d&&i+" ."+d,helper:n?"original":"clone",appendTo:a,sort:function(e,t){n&&t.helper.css({top:t.position.top/o,left:t.position.left/o});var i=e.clientY,a=$(window).scrollTop(),r=i,s=$(window).height()-i;r<10&&se((function(){$(window).scrollTop(a-5)}),10),s<10&&se((function(){$(window).scrollTop(a+5)}),10)},start:function(e,t){n&&(t.item[0].style.width="",t.item.width(t.item[0].clientWidth),t.placeholder.height(t.item[0].clientHeight));var o=$(t.item).attr("block-type");$('*[blocks-container="true"]').each((function(){var e=$(this),t=e.attr("container-restricted-types").split(",");(t.length&&-1!=t.indexOf(o)||"-1"==t)&&(e.addClass("draggingOn"),e.addClass("cv-container--is-showing"))})),c.addClass(".cv-block--is-moving"),$(this).addClass("dragging-blocks"),r=!1,s={},c.sortable("refreshPositions")},stop:function(e,t){var n=$(".cv-container");n.removeClass("draggingOn"),n.removeClass("cv-container--is-showing"),$(".cv-page").removeClass("dragging-blocks"),$(this).removeClass(".cv-block--is-moving")},receive:function(e,t){if(t.sender){var n=$(t.item).parent(),o=n.attr("container-nb-blocks"),i=n.attr("container-max-nb-blocks"),a=n.attr("container-restricted-types");"-1"!=a&&(a=a.split(","));var c=$(t.item).attr("block-type");"-1"!=a&&-1==a.indexOf(c)?r=intl("errors.cvEditor.forbiddenBlockType"):"-1"!=i&&o+1>i&&(s={maxBlocks:i},r=intl("errors.cvEditor.tooMuchBlocks",s))}r&&($(t.sender).sortable("cancel"),setTimeout((function(){handleError(r,s)}),300))},update:function(t,o){if(this===o.item.parent()[0]){var i=!0;if(o.sender){var a=$(o.item).parent(),r=a.attr("container-nb-blocks"),s=a.attr("container-max-nb-blocks"),c=a.attr("container-restricted-types");"-1"!=c&&(c=c.split(","));var d=$(o.item).attr("block-type");("-1"!=c&&-1==c.indexOf(d)||"-1"!=s&&r+1>s)&&(i=!1)}i&&(te(),ne(e).then((function(e){n?n():Et(e.CVHTMLCSS)})))}}})})),!n){ee(),$('*[timeline-contents-container="true"]').each((function(){$(this).sortable({items:'> div[single-content="true"]',update:function(t,n){te(),ne(e).then((function(e){!1===e.success?handleError(e.reason):Et(e.CVHTMLCSS)}))}})}));var r=null;$('*[contents-container="true"]').each((function(){var t=$(this).attr("connected-to");$(this).sortable({connectWith:!!t&&i+" ."+t,items:'> div[single-content="true"]',update:function(t,n){r&&(clearTimeout(r),r=null),r=setTimeout((function(){te(),ne(e).then((function(e){!1===e.success?handleError(e.reason):Et(e.CVHTMLCSS)})),r=null}),100)}})})),$('*[information-fields-container="true"]').sortable({items:'*[information-field="true"]',update:function(t,n){X(e).then((function(e){!1===e.success?handleError(e.reason):Et(e.CVHTMLCSS)}))}})}},de=function(){var e=$('*[single-content="true"]'),t=$('*[free-block-content="true"]');e.each((function(){var e=$(this).attr("single-content-id"),t=$(this).attr("single-content-type"),n=$('<a href="javascript:;" class="edit"></a>');n.click((function(){lt(t,e)})),$(this).on("dblclick",(function(n){lt(t,e)}));var o=$('<a href="javascript:;" class="delete"></a>');o.click((function(){ze(t,e)})),$(this).append($("<div>").addClass("buttons").append(n).append(o).tmousedown((function(e){e.stopPropagation()})))})),t.each((function(){var e=$(this).closest('*[block="true"]').attr("block-id"),t=$('<a href="javascript:;" class="edit"></a>');t.click((function(){ut(e)})),$(this).append($("<div>").addClass("buttons").append(t).tmousedown((function(e){e.stopPropagation()})))}))},le=function(e){requestPOST("/ajax/cv/"+cvId+"/deleteBlock/"+e,(function(e){e.success?Et(e.CVHTMLCSS):handleError(e.reason)}))},ue=function(e,t,n,o,i){if(e instanceof KeyboardEvent&&13===e.which||e instanceof MouseEvent){var a=$(t),r=a.text();r=r.trim(),a.blur(),i!==r&&(o?(F(a.attr("variable-name"),a.attr("variable-type"),r),$('input[variable-name="'+a.attr("variable-name")+'"]').val(r)):requestPOST("/ajax/cv/"+cvId+"/blockTitle/"+n,(function(e){e.success?Et(e.CVHTMLCSS):handleError(e.reason)}),{title:r}))}},pe=function(e,t){requestPOST("/ajax/cv/"+cvId+"/blockTitle/"+t,(function(e){e.success?Et(e.CVHTMLCSS):handleError(e.reason)}),{icon:e})},me=function(e){var t=[],n=$("<span>X</span>");return n.click((function(){pe("",e)})),t.push(n[0]),$.each(icons,(function(n,o){var i=$('<span class="fa '+o+'"></span>');i.click((function(){pe(o,e)})),t.push(i[0])})),t},fe=[],ve=function(){for(var e in fe){var t=fe[e];t&&t.destroy&&t.destroy()}fe=[],$('*[block-title="true"]').each((function(){var e=this,t=$(e);if($(e).attr("variable-type")&&$(e).attr("variable-name")){var n=new MediumEditor(t,{disableReturn:!0,disableDoubleReturn:!0,toolbar:!1,placeholder:!1,imageDragging:!1});fe.push(n),t.tmousedown((function(e){e.stopPropagation()})),n.subscribe("editableKeydownEnter",(function(e,t){ue(e,t,!1,!0)})),n.subscribe("blur",(function(e,t){ue(e,t,!1,!0)}))}else{var o=$('<div class="options"></div>'),i=$('<span class="move"></span>'),a=$('<span class="add"><i>'+intl("editor.cvEditor.editCvBlock.addContent")+"</i></span>"),r=$('<span class="editIcon"></span>'),s=$('<span class="delete"></span>');t.prepend(o),t.attr("disabled-add-content")||o.prepend(a),o.prepend(i),o.prepend(s),t.attr("disabled-add-icon")||o.prepend(r);var c=t.attr("block-parent-id");a.tmousedown((function(e){e.stopPropagation()})),a.click((function(){requestPOST("/ajax/cv/"+cvId+"/addBlockContentForm/"+c,(function(e){e.success&&ct(e.contentForm,Ke)}))}));var d=$(".title-text > span",e),l=(n=new MediumEditor(d,{disableReturn:!0,disableDoubleReturn:!0,toolbar:!1,placeholder:!1,imageDragging:!1}),d.text().trim());fe.push(n),d.tmousedown((function(e){e.stopPropagation()})),n.subscribe("editableKeydownEnter",(function(e,t){ue(e,t,c,!1,l)})),n.subscribe("blur",(function(e,t){ue(e,t,c,!1,l)})),s.tmousedown((function(e){e.stopPropagation()})),s.click((function(){confirmBox(intl("editor.cvEditor.editCvBlock.deleteBlock"))&&le(c)})),r.tmousedown((function(e){e.stopPropagation()})),r.click((function(){for(var e=$('<div tabindex="0" id="iconsManager" onblur="$(this).remove();"></div>'),t=me(c),n=0;n<t.length;n++)e.append(t[n]);e.tmousedown((function(e){e.stopPropagation()})),$(this).parent().append(e),e.focus()}))}}))},he=function(e,t,n){void 0!==window.onEditInformation&&window.onEditInformation?window.onEditInformation(e,t):(feedOverlay($("#updateMyInformation")),C(n))},we=function(){$('*[information-fields-container="true"]').each((function(){var e=this,t=$('<span class="edit"></span>');$(e).hover((function(){$(e).append(t),t.click((function(e){he(e)}))}),(function(){t.remove()})),$('*[information-field="true"]',e).on("dblclick",(function(e){he(e,this.classList)}))}))},ge=function(){$('*[username-data-container="true"]').each((function(){$(this).click((function(){handleError(intl("editor.notice.changeUsername"))}))}))},be=function(e){var t=e.className;t.indexOf("job-sought")>-1?document.querySelector("input[name='soughtJob']").focus():t.indexOf("bio")>-1&&document.querySelector("textarea[name='bio']").focus()},Ce=function(){$('*[cvvariant-data-container="true"]').each((function(){var e=this;$(e).click((function(){he(null,e.classList,(function(){setTimeout((function(){be(e)}),100)}))}))}))},$e=function(){requestPOST("/ajax/cv/"+cvId+"/photo/delete",(function(e){e.success&&Et(e.CVHTMLCSS)}))},ye=function(e){$('*[profile-picture="true"]').each((function(){var t,n=this,o=$('<span class="delete"></span>'),i="cover"===e?"portrait":"portrait"===e?"landscape":"cover",a=n;"parent"===$(this).attr("profile-picture-hovertrigger")&&(a=n.parentNode),$(a).hover((function(){t=$('<span class="orientation-mode '+i+'" title="'+intl("editor.cvEditor.changeOrientationModeTo."+i)+'"></span>'),$(n).append(o),$(n).append(t),o.click((function(){$e()})),t.click((function(){qt()})),loadSpecificTooltip(t,"right")}),(function(){o.remove(),t&&t.remove()}))}))},ke=function(){$("#undoRedo").show(),$("#rightEditorStaticBar").show(),$("#addBlock").show(),$("#addContent").show(),$("#school-actions").show(),$(".cv-correction-button").show();var e=$(".cv-b2b-service");e.length&&Te(e)},Te=function(e){e.css("display","flex"),e.unbind().click((function(e){var t=$(this).find(".cv-b2b-service__buttons");t.get(0).contains(e.target)||t.toggleClass("cv-b2b-service__buttons--expand")}))},_e=function(e){var t=e.closest(".cv-page"),n=t.offset().top+t.height();e.css("top","70px"),e.offset().top+e.height()+50>n&&e.css("top","-"+(e.height()-10)+"px")},Se=function(e){$(".addBlockContainer").removeClass("visible");var t=$(e).next();t.addClass("visible"),_e(t)},Ee=function(){$(".cv-container").addClass("showEditContents")},Pe=function(){$(".cv-container").removeClass("showEditContents")};onBodyMousedownTriggers.push(Pe);var Oe=function(){$(".addBlockContainer:not(.addTimelineContentContainer)").each((function(){var e=$(this),t=e.data("containerName");requestPOST("/ajax/cv/"+cvId+"/getPossibleInsertableBlocks/"+t,(function(n){if(n.possibleBlocks){var o=Object.keys(n.possibleBlocks).map((function(e,t){var o=n.possibleBlocks[e];return'<a href="javascript:;" class="new-empty-block" data-block-type="'+o+'">'+intl("editor.cvEditor.newBlockLabels."+o)+"</a>"})).join(""),i=$(o);e.html(i),e.find(".new-empty-block").each((function(){var e=$(this).data("block-type");$(this).click((function(){$(".cv-container").removeClass("cv-container--is-showing"),requestPOST("/ajax/cv/"+cvId+"/addEmptyBlock/"+e+"/"+t,(function(e){e.success?Et(e.CVHTMLCSS):handleError(e.reason)})),Le()}))}))}}))}));var e=$(".cv-container:visible"),t=null,n=null;if(e.each((function(){var e=$(this),o=e.offset().top,i=o+e.outerHeight(),a=$(window).scrollTop(),r=a+$(window).height();i>a+100&&o<a||o<r-100&&i>r||o>=a&&i<=r?n=e:t=e})),null===n&&t){var o=!1;"scrollBehavior"in document.documentElement.style&&(o={behavior:"smooth",block:"center"}),t.get(0).scrollIntoView&&t.get(0).scrollIntoView(o)}$(".cv-container").addClass("showAddBlock"),$(".cv-container").addClass("cv-container--is-showing")},Ve=function(e,t){return new Promise((function(o){var i=null;if($(".addBlockContainer, .addTimelineContentContainer").each((function(){var t=$(this),n=t.parents(".cv-container"),i=n.find(".addBlockButtonContainer"),a=t.data("containerName"),r=n.hasClass("timeline"),s=r?["PRO_EXPERIENCES","ASSO_EXPERIENCES","COMPLEMENTARY_EDUCATION","EDUCATION"]:n.attr("container-restricted-types").split(",");n.length>0&&(n.removeClass("showAddBlock").removeClass("cv-container--is-showing"),(s.indexOf(e)>-1||-1==s)&&n.hasClass("cv-container")&&(n.addClass("showAddBlock").addClass("cv-container--is-showing"),i.unbind("touchstart mousedown"),r?i.tmousedown((function(){je(e,window.onAddedBlockCallback),o()})):(i.html('<span class="fa fa-plus"></span> '+intl("editor.cvEditor.editContainers.addBlockHere")),i.tmousedown((function(){requestPOST("/ajax/cv/"+cvId+"/addEmptyBlock/"+e+"/"+a,(function(e){e.success?(Et(e.CVHTMLCSS),window.onAddedBlockCallback&&window.onAddedBlockCallback(),o()):(handleError(e.reason),o())}))})))))})),null==i){(i=$(".cv-page[container-page-number="+t+"] .cv-container.showAddBlock")).length||(i=$(".cv-page .cv-container.showAddBlock").first());var a=i.get(0).getBoundingClientRect();if(!(a.top>=0&&a.left>=0&&a.bottom<=(n.g.innerHeight||n.g.documentElement.clientHeight)&&a.right<=(n.g.innerWidth||n.g.documentElement.clientWidth))){var r=!0;"scrollBehavior"in document.documentElement.style&&(r={behavior:"smooth",block:"start"}),i.length&&i.get(0).scrollIntoView&&i.get(0).scrollIntoView(r)}}}))},Le=function(){$(".cv-container").removeClass("cv-container--is-showing"),$(".cv-container").removeClass("showAddBlock")};onBodyMousedownTriggers.push(Le);var xe=function(e,t){requestPOST("/ajax/cv/"+cvId+"/updateImage/"+e,(function(e){e.success&&Et(e.CVHTMLCSS)}),t)},Ie=function(){$('*[single-image="true"]').each((function(){var e=this,t=$(e).attr("single-image-id"),n=$(e).attr("single-image-minw")||5,o=$(e).attr("single-image-minh")||5,i=1==$(e).attr("single-image-preserve-ratio")?1:null;$(e).draggable({containment:"parent",stop:function(){var n=$(e).offset().left-$(e).parent().offset().left,o=$(e).offset().top-$(e).parent().offset().top;xe(t,{left:n,top:o})}}),$(e).resizable({minHeight:o,minWidth:n,aspectRatio:i,containment:$(this).closest(".cv-page"),stop:function(e,n){xe(t,n.size)}});var a=$('<span class="delete"></span>');$(e).hover((function(){$(e).append(a),a.click((function(){xe(t,{delete:1})}))}),(function(){a.remove()}))}))},Be=function(e){var t=$('<form class="box pageImage" action="'+cv_block_add_image_URL+e+'" method="post" id="insertPageImage-'+e+'" enctype="multipart/form-data"><div class="box__input"><svg class="box__icon" xmlns="http://www.w3.org/2000/svg" width="50" height="43" viewBox="0 0 50 43"><path d="M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z"/></svg><input type="file" class="box__file" id="insertImageInput-'+e+'" name="image" /><label for="insertImageInput-'+e+'"><strong>'+intl("editor.cvEditor.chooseFile")+'</strong><span class="box__dragndrop">'+intl("editor.cvEditor.orDragItHere")+'</span>.</label><input type="submit" class="box__button" value="" /></div><div class="box__uploading">'+intl("editor.cvEditor.sending")+"</div></form>");feedOverlay(t,"dark")||h(t,(function(e){e.success?(clearOverlay(),Et(e.CVHTMLCSS)):handleError(e.reason)}),(function(){}))};$(document).ready((function(){h($("#updateCvProfilePictureForm"),(function(e){e.success?(clearOverlay(),Et(e.CVHTMLCSS)):handleError(e.reason)}),null,(function(e,t){e&&e.status&&413==e.status&&handleError(intl("errors.media.empty_or_too_big").replace("{{ max_file_size }}",max_file_size+"M"))}))}));var Me,He=function(){feedOverlay($("#updateCvProfilePicture"),null,!1,null,null,(function(){}))},Ae=function(){var e=1,t=$(".cv-page:visible").length;$(".cv-page").each((function(){if(e>1){var n=$('<span id="page-number-'+e+'" class="page-number" ><span>'+intl("editor.cvEditor.number")+e+"</span></span>");if($(this).append(n),e===t)if(0===$(".cv-block",this).length){var o=$('<span onclick="hideLastPage()" id="cv-page-hide-'+e+'" class="cv-page-hide-button" ><span><i class="fa fa-times"></i> '+intl("editor.cvEditor.hidePage")+"</span></span>");$(this).append(o)}}e++}))},Re=function(e){if(!cvLocked){if(void 0===e){var t=$('<div id="cvProfilePictureToggler" class="cvdr-left-editor-button right-tooltip" title="'+intl("editor.cvEditor.tooltips.setPhoto")+'"><span class="fa fa-camera"></span> <span>'+intl("editor.cvEditor.profilePicture")+"</span></div>");t.click((function(){He(),window.dataLayer.push({event:"migratedEvent",migratedCategory:"CV Editor",migratedAction:"click",migratedLabel:"cveditor-show-edit-photo"})})),$("#cvHTML").prepend(t)}var n=1;$('*[columns-container="true"]').each((function(){var t=$(this).attr("container-page-number");if(void 0===e){if(!$(this).is(":visible"))return}else if(t!=e)return;var o=$('<span id="addPageImage-'+n+'" class="cvdr-left-editor-button addPageImage right-tooltip static'+(t>1?" addPageImage-x":"")+'" data-offset-scroll-height="950" '+(t>1?'data-trigger-offset-y="200" ':"")+'data-offset-y="15" title="'+intl("editor.cvEditor.tooltips.addImage")+'" style="left: -4cm;"><span class="fa fa-institution"></span> <span>'+intl("editor.cvEditor.images")+"</span></span>");o.click((function(){Be(t),window.dataLayer.push({event:"migratedEvent",migratedCategory:"CV Editor",migratedAction:"click",migratedLabel:"cveditor-add-logo"})})),$(this).append(o),n++}))}},je=function(e,t){requestPOST("/ajax/cv/"+cvId+"/addBlockContentFormByType/"+e,(function(e){e.success&&ct(e.contentForm,(function(e){Ke(e),t&&t()}))}))},Ne=function(){var e=1;$('*[timeline-contents-container="true"]').each((function(){var t=this,n=$('<span class="addBlockBlurContainer"></span>');n.tmousedown((function(e){$(".addBlockContainer").removeClass("visible"),e.stopPropagation()})),$(t).prepend(n);var o=$('<span class="addBlockContainer addTimelineContentContainer" id="addTimelineContainer-'+e+'"></span>');o.tmousedown((function(e){e.stopPropagation()}));var i=$('<span class="addBlockButtonContainer"><span class="fa fa-plus"></span> '+intl("editor.cvEditor.editContainers.addTimelineContent")+"</span>");i.tmousedown((function(e){e.stopPropagation(),Se(this)})),$(t).prepend(o),$(t).prepend(i);var a=$('<a href="javascript:;" class="new-empty-block">'+intl("editor.cvEditor.editContainers.timeline.addJobContent")+"</a>");a.click((function(){je("PRO_EXPERIENCES")}));var r=$('<a href="javascript:;" class="new-empty-block">'+intl("editor.cvEditor.editContainers.timeline.addDiplomaContent")+"</a>");r.click((function(){je("EDUCATION")}));var s=$('<a href="javascript:;" class="new-empty-block">'+intl("editor.cvEditor.editContainers.timeline.addAssociativeContent")+"</a>");s.click((function(){je("ASSO_EXPERIENCES")}));var c=$('<a href="javascript:;" class="new-empty-block">'+intl("editor.cvEditor.editContainers.timeline.addComplementaryDiplomaContent")+"</a>");c.click((function(){je("COMPLEMENTARY_EDUCATION")})),o.html(a).append(r).append(s).append(c),e++}))},De=function(){$('*[blocks-container="true"]').each((function(){var e=this,t=$(e).attr("container-name"),n=$('<span class="addBlockContainer" data-container-name="'+t+'"></span>');n.tmousedown((function(e){e.stopPropagation()}));var o=$('<span class="addBlockButtonContainer"><span class="fa fa-plus"></span> '+intl("editor.cvEditor.editContainers.addBlock")+"</span>");o.tmousedown((function(e){e.stopPropagation(),Se(this)})),$(e).prepend(n),$(e).prepend(o);var i=$('<span class="addBlockBlurContainer"></span>');i.tmousedown((function(e){$(".addBlockContainer").removeClass("visible"),e.stopPropagation()})),$(e).prepend(i)}))},Fe=function(e){return new Promise((function(t,n){requestPOST("/ajax/getCVHTML/"+e,(function(e){e.success&&t(e.CVHTMLCSS)}))}))},qe=function(e,t){return new Promise((function(n,o){requestPOST("/ajax/getCvContentForm/"+e+"/"+t,(function(e){e.success&&n(e.contentForm)}))}))},Ue=function(e){return new Promise((function(t,n){requestPOST("/ajax/getCvBlockContentForm/"+e,(function(e){e.success&&t(e.contentForm)}))}))},ze=function(e,t){requestPOST("/ajax/cv/"+cvId+"/deleteContent/"+e+"/"+t,(function(e){e.success&&Et(e.CVHTMLCSS)}))},We=function(e){e.success&&(Et(e.CVHTMLCSS),clearOverlay())},Ke=function(e){e.success?(Et(e.CVHTMLCSS),clearOverlay()):handleError(e.reason)},Ge=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},Ze=function(e,t){if(e.success){var n=$('input[name="soughtJob"]',t).val();if(n!=$('input[name="initialSoughtJob"]',t).val()&&(window.fetchJobs&&window.fetchJobs(n),$('input[name="initialSoughtJob"]',t).val(n)),""!==n)if($("#explainationWithTitle").length){var o=$("#explainationWithTitle").html();o=o.replace("{{ title }}",Ge(n)),$("#jobOffersWrapper .explain").html(o);var i=$("#jobOffersWrapper a").data("href");$("#jobOffersWrapper a").attr("href",i.replace("%q",n.replace(/"/g,"")))}else $("#jobOffersWrapper .explain").html($("#explainationWithoutTitle").html());if(e.newMobilityInformationId){var a=$('input[name="customRawMobility"]'),r=a.val(),s=$("<span>x</span>");s.click((function(){Y(e.newMobilityInformationId)}));var c=$('<div class="tag" id="mobility-'+e.newMobilityInformationId+'">'+r+" </div>");c.append(s),$("#mobilitiesList").append(c),a.val("")}Et(e.CVHTMLCSS),(!window.updateMyInformationOpts||window.updateMyInformationOpts&&!window.updateMyInformationOpts.disableAutoClose)&&!e.newMobilityInformationId&&clearOverlay()}},Ye=function(e){e.success&&(Et(e.CVHTMLCSS),clearOverlay())},Xe=function(e){Me&&Me.destroy&&Me.destroy(),$('input[name="isCurrent"]',$(e)).change((function(){$(this).is(":checked")?$(".endDate",$(e)).addClass("hidden"):$(".endDate",$(e)).removeClass("hidden")})),Me=new Editor({element:document.getElementById(e.replace("#","")).querySelector(".tiptapeditor"),extensions:[StarterKit.configure({orderedList:!1,codeBlock:!1,horizontalRule:!1,blockquote:!1}),TipTapPlaceholder.configure({placeholder:this.placeholder}),TipTapColor,TipTapSuperscript,TipTapLink.configure({HTMLAttributes:{rel:null,target:"_blank"},openOnClick:!1}),TipTapTextStyle,TipTapTextAlign.configure({types:["paragraph"]}),TipTapUnderline],onUpdate:function(){$("textarea",$(e)).html(Me.getHTML())},content:window.b2bTiptapHTML||""}),setTimeout((function(){$(".tiptapeditor-menu-bold").click((function(){Me.chain().focus().toggleBold().run()})),$(".tiptapeditor-menu-italic").click((function(){Me.chain().focus().toggleItalic().run()})),$(".tiptapeditor-menu-underline").click((function(){Me.chain().focus().toggleUnderline().run()})),$(".tiptapeditor-menu-superscript").click((function(){Me.chain().focus().toggleSuperscript().run()})),$(".tiptapeditor-menu-link").click((function(){var e=Me.getAttributes("link").href,t=window.prompt("URL",e);null!==t&&(""!==t?Me.chain().focus().extendMarkRange("link").setLink({href:t}).run():Me.chain().focus().extendMarkRange("link").unsetLink().run())})),$(".tiptapeditor-menu-unlink").click((function(){Me.chain().focus().unsetLink().run()})),$(".tiptapeditor-menu-justify").click((function(){Me.isActive({textAlign:"justify"})?Me.chain().focus().unsetTextAlign().run():Me.chain().focus().setTextAlign("justify").run()})),$(".tiptapeditor-menu-list").click((function(){Me.chain().focus().toggleBulletList().run()})),$(".tiptapeditor-menu-color input").on("input",(function(e){Me.chain().focus().setColor(e.target.value).run(),$(this).val(Me.getAttributes("textStyle").color)})),$(".tiptapeditor-menu-removeformat").click((function(){Me.chain().focus().unsetColor().run()}))}),100),$("select.select2",$(e)).select2({})},Je=function(e){var t=$(e);$(".suggested-naf",t).html(""),$(".suggested-naf",t).hide(),$(".suggested-naf-loading",t).hide()},Qe=!1,et=null,tt={company:"",place:""},nt=null,ot={},it=null,at=function(e,t){var n=$(e);if(it=e,!t){var o=!0;if(n.find(".company-place").each((function(){$(this).val().length<3&&(o=!1)})),!o)return $(".naf-group",n).hide(),Qe&&(clearTimeout(Qe),et&&et.abort(),Qe=!1,et=null,nt=null),void Je(e)}var i=$(".company-place--company",n).val().trim(),r=$(".company-place--place",n).val().trim();(tt.company!=i||tt.place!=r||t)&&(tt.company="".concat(i),tt.place="".concat(r),$(".naf-group",n).show(),Qe&&(clearTimeout(Qe),et&&et.abort(),Qe=!1,et=null),nt=null,$(".suggested-naf--siret").val(""),ot={},$(".suggested-naf",n).html(""),$(".suggested-naf",n).hide(),$(".suggested-naf-loading",n).show(),Qe=setTimeout((function(){nt=null,$(".suggested-naf--siret").val(""),ot={},$(".suggested-naf",n).html(""),$(".suggested-naf",n).hide(),$(".suggested-naf-loading",n).show();var e=(et=new AbortController).signal;fetch("/api/v1/suggest/naf?q=".concat(encodeURIComponent(i),"&place=").concat(encodeURIComponent(r)),{method:"GET",credentials:"include",signal:e}).then((function(e){return e.json()})).then((function(e){$(".suggested-naf",n).html("");var t=!1;if(e.success)if(e.data.suggestions.length>0){e.data.predicted_etab&&(nt=e.data.predicted_etab);var o,i=a(e.data.suggestions);try{for(i.s();!(o=i.n()).done;){var r=o.value;ot[r.code]=r.label,$(".suggested-naf",n).append('\n              <label class="suggested-naf__item">\n                <input type="radio" onclick="selectNAF(\''.concat(r.code,'\')" name="naf" value="').concat(r.code,'" /> <span>').concat(r.label,"</span>\n              </label>\n            "))}}catch(e){i.e(e)}finally{i.f()}$(".suggested-naf",n).append('\n            <label class="suggested-naf__item suggested-naf__item--other">\n              <input type="radio" onclick="selectNAF(0, \'Autre\')" name="naf" value="0" /> <span>Autre</span>\n            </label>\n          ')}else t=!0;else t=!0;t&&$(".suggested-naf",n).html("\n          <label class=\"suggested-naf__item suggested-naf__item--disabled\">\n            <span>Nous n'avons pas trouvé le code d'activité de votre entreprise</span>\n          </label>"),$(".suggested-naf",n).show(),$(".suggested-naf-loading",n).hide(),Qe=!1,et=null})).catch((function(e){Qe=!1,et=null}))}),400))},rt=function(e,t){$(".suggested-naf--siret").val(""),0!=e&&nt&&$(".suggested-naf--siret").val(nt)},st=function(e){var t=$(e);$(".naf-group",t).length>0&&(tt.company=$(".company-place--company",t).val().trim(),tt.place=$(".company-place--place",t).val().trim(),t.find(".naf-modal-triggerer").click((function(){Swal.fire({title:null,html:"<h2>Pourquoi cette information ?</h2><p>&nbsp;</p><p>Cette information n'est pas affichée sur votre CV.</p><p>&nbsp;</p><p>Cependant, lors du téléchargement gratuit de votre CV en PDF, nous vous proposons l'option de déposer votre CV auprès de recruteurs de votre secteur.</p><p>&nbsp;</p><p>Il est donc utile de connaître le plus précisemment possible l'activité des entreprises dans lesquelles vous avez déjà travaillé.</p><p>&nbsp;</p><p>Vous pouvez à tout moment modifier ou supprimer cette information en choissant l'option \"Autre\".</p>",showCloseButton:!0,customClass:{popup:"swal2-popup--feedback",confirmButton:"cta-btn cta-btn--pink cta-btn--hover-effect1"},confirmButtonText:'<span class="cta-btn__text">OK</span>',buttonsStyling:!1,focusConfirm:!1,showCancelButton:!1,showConfirmButton:!0,reverseButtons:!0,onBeforeOpen:function(){},onOpen:function(){}})})),t.find(".delete-naf").click((function(){at(e,!0)})),t.find(".company-place").each((function(){$(this).keyup((function(t){at(e)}))})))},ct=function(e,t){feedOverlay($(e.html),"dark",!1,!0);var n=$("form#"+e.id);n[0].reset(),bindAjaxForm("#"+e.id,t,(function(){}));var o=!1;n.find("input, textarea, select").not("input[type='hidden']")[0].focus(),n.find("input, textarea").each((function(){$(this).keyup((function(){o=!0}))})),n.find("select").each((function(){$(this).change((function(){o=!0}))})),$("input.cancel",$("#"+e.id)).click((function(e){(!o||o&&confirmBox(intl("editor.cvEditor.editContent.cancelConfirm")))&&clearOverlay()})),st("#"+e.id),bindSearchAutocomplete("#"+e.id+" .ac"),bindSuggestor("#"+e.id),Xe("#"+e.id),dt(n),window.onCreatedContentEditorCallback&&window.onCreatedContentEditorCallback()},dt=function(e){var t=$("#social-network-selector",e);if(t.length){var n=$("#profile-name",e),o=$("#profile-id",e),i=$('input[name="displayCustomizedProfileLabel"]',e),a=$("label span",e),r=$("#social-network-customized-label",e),s=function(t){var n=p[t],i=$(".social-network-formatting",e);n.startsWith("%username%")?i.before(o):n.endsWith("%username%")&&i.after(o),i.text(n.replace("%username%",""))};""!=t.val()&&s(t.val()),""!=n.val()&&(r.removeClass("form-group-row--hidden"),i.attr("checked","checked")),i.unbind().change((function(){$("#social-network-customized-label",e).toggleClass("form-group-row--hidden"),r.hasClass("form-group-row--hidden")&&n.val("")})),o.unbind().on("change keyup paste",(function(){this.value&&this.value.length>3?a.html(intl("editor.cvEditor.editContent.displaySocialProfileLabel",{socialProfileLabel:$("<div>"+this.value+"</div>").text()})):a.html(intl("editor.cvEditor.editContent.displaySocialProfileLabelDefault"))})),t.change((function(){""!=this.value&&p[this.value]&&s(this.value)}))}},lt=function(e,t){qe(e,t).then((function(e){ct(e,Ke)}))},ut=function(e){Ue(e).then((function(e){ct(e,We)}))},pt=function(e){$(".options-cat h4").removeClass("active"),$(".options-list-container").addClass("hidden"),$(e).next().removeClass("hidden"),$(e).addClass("active")},mt=function(e){e?$("#cvOptionsHTML .html").hide():$("#cvOptionsHTML .html").toggle()},ft=function(e){void 0!==window.documentEditorV3&&window.documentEditorV3||$(window).outerWidth()<=1275&&0==$(e.target).closest("#cvOptionsHTML").length&&0==$(e.target).closest(".colorpicker").length&&mt(1)};onBodyMousedownTriggers.push(ft);var vt=function(){var e=0;$(".cv-page:visible").each((function(){e++;var t=!1,n=$(".forbiddenZone",this);if(n.length>0){var o=n.offset().top;$(".cv-container .cv-block",this).each((function(){$(this).attr("current-page",e),$(this).attr("is-outside",!1),$(this).offset().top+$(this).outerHeight()>o&&($(this).attr("is-outside",!0),$('div[single-content="true"]',this).each((function(){$(this).attr("is-outside",!1),$(this).offset().top+$(this).outerHeight()>o&&$(this).attr("is-outside",!0)})),t=!0)})),!t&&n.height()>30&&(t=!0,$(".notice-message",n).html(intl("editor.cvEditor.forbiddenExplainationHeight")+'<br/> <a href="javascript:;" onclick="autoFit('+e+');">'+intl("editor.cvEditor.forbiddenZoneAction2Label")+"</a>"))}t&&(2==m||e<m)&&$(".notice-message",n).show()}))},ht=function(){if(!prevNextTutorialShown){Cookies.set("prevNextTutorialShown",1),prevNextTutorialShown=1;var e=new c.Tour({nextText:intl("tutorial.cvV3.nextLabel"),finishText:intl("tutorial.cvV3.nextLabel"),quitText:null,pressKeyToContinue:[13,9]});e.add(new c.Steps.Highlight({title:intl("tutorial.autoAdjust.prevNext.title"),description:intl("tutorial.autoAdjust.prevNext.description")+" : ",placement:"bottom",selector:".resume-prev-cta",blockEvent:!0})),e.add(new c.Steps.Highlight({title:intl("tutorial.autoAdjust.options.title"),description:intl("tutorial.autoAdjust.options.description"),placement:"right-start",selector:"#left-toolbar__design-menu",blockEvent:!0}).on("beforeRenderStep",(function(e){})).on("afterRenderStep",(function(e,t){}))),e.play(),e.on("finish",(function(){e.destroy()}))}},wt=function(e){requestPOST("/ajax/cv/"+cvId+"/autoFitPages",(function(e){e.success&&(Et(e.CVHTMLCSS),bt(e.CVHTMLCSS.optionsHTML),Ct(e.CVHTMLCSS.options),setTimeout((function(){ht()}),600))}),{pageNum:e})},gt=function(e){var t=[],n=!1;$(".cv-container .cv-block",$('.cv-page[container-page-number="'+e+'"]')[0]).each((function(){if("true"==$(this).attr("is-outside")){var e=$(this).closest(".cv-container").attr("container-name"),o=$(this).attr("current-page"),i=$(this).outerHeight(),a=[],r=[];o<m?($('div[single-content="true"]',this).each((function(){"true"==$(this).attr("is-outside")?r.push({id:parseInt($(this).attr("single-content-id")),outerHeight:$(this).outerHeight()}):a.push({id:parseInt($(this).attr("single-content-id")),outerHeight:$(this).outerHeight()})})),t.push({block:$(this).attr("block-id"),blockHeight:i,validContents:a,outsideContents:r,currentContainer:e,currentPage:parseInt(o),destinationPage:parseInt(o)+1})):n=!0}})),n&&(kt?kt():handleError(intl("editor.cvEditor.errors.maxNbPages"))),t.length>0&&requestPOST("/ajax/cv/"+cvId+"/autoMoveBlocks",(function(e){e.success&&(Et(e.CVHTMLCSS),setTimeout((function(){ht()}),600))}),{blocksToMove:t})};window.templateOptions=null,window.optionsHTML="";var bt=function(e){window.optionsHTML=e,void 0!==window.documentEditorV3&&window.documentEditorV3||($("#cvOptionsHTML .html").html(e),Lt())},Ct=function(e){void 0!==window.documentEditorV3&&window.documentEditorV3&&(window.templateOptions=e,window.onRefreshedOptions())},$t=function(e,t,n,o,i){e.checkPaymentForProduct(t,n).then(function(a){a.success?o&&o():e.showPaymentModal(t,n,function(){i&&i()}.bind(this))}.bind(this))},yt=null,kt=function(){var e=window.CVDR.SERVICES.CV_INCREASE_PAGE_NUMBER_GLOBAL;null===yt?yt=new MicroPayment(e.orderTypeKey,window.userData,"CVOPT-5PAGES",{category:"CV/Options",list:"CV Editor"}):yt.setOrderType(e.orderTypeKey),$t(yt,e.service,e.product,Ot,(function(){Ot(),St()}))},Tt=!1,_t=function(){if(!Tt)return f>1?(f--,Tt=!0,Ot().then((function(){Tt=!1}))):void 0},St=function(){if(!Tt)return Tt=!0,f++,Ot().then((function(){Tt=!1,$(".show-more-page--buy").is(":visible")&&Yt([{name:"CVOPT-5PAGES",id:"4",price:"3.00",category:"CV/Options",list:"CV Editor"}])}))},Et=function(e,t){var n=$("#cvHTML"),o=e.css;o+=e.html,m=e.max_nb_pages,n.html(o).ready((function(){ie(),vt()})),n.find(".cv-page").each((function(){parseInt($(this).attr("container-page-number"))>f&&($('.cv-block[block="true"]',this).length>0?f++:($(this).hide(),$(this).next().hide()))})),f<m?$(".cv-page:visible").last().next().after('<div class="show-more-page" onclick="showOneMorePage(this);"><span class="btn btn-gilroy alt-primary">'+intl("editor.cvEditor.microServices.pageNumber.showOneMorePage")+"</span></div>"):2===m&&window.CVDR&&window.CVDR.SERVICES&&$(".cv-page:visible").last().next().after('<div class="show-more-page show-more-page--buy"><span class="btn btn-gilroy btn-pink" onclick="buyIncreasePageNumber();">'+intl("editor.cvEditor.microServices.buyButtons.globalPageNumber",{eurPrice:window.CVDR.SERVICES.CV_INCREASE_PAGE_NUMBER_GLOBAL.eurPrice})+"</span></div>"),cvLocked?setTimeout((function(){ie(!0),vt()}),0):(window.emptyInformations=e.empty_informations,ce(cvId),de(),ve(),De(),Ne(),Bt(),jt(),we(),ge(),Ce(),void 0!==window.documentEditorV3&&window.documentEditorV3||Re(),Ae(),Ie(),ye(currentCvPhotoOrientation),void 0!==window.documentEditorV3&&window.documentEditorV3||ke(),loadTheTooltips(),Ht(),void 0!==window.documentEditorV3&&window.documentEditorV3||(loadTheStatics(),Pt()),window.callbackComment&&window.callbackComment(),!t&&window.onDocumentUpdated&&window.onDocumentUpdated(e))},Pt=function(){"undefined"!=typeof cvDepositApp&&cvDepositApp.$mount()},Ot=function(){return new Promise((function(e,t){return Fe(cvId).then((function(t){Ct(t.options),bt(t.optionsHTML),Et(t,!0),e(t)}))}))},Vt=function(){Ot().then((function(e){if(d=!0,void 0!==window.documentEditorV3&&window.documentEditorV3&&window.onDocumentLoaded&&window.onDocumentLoaded(),(void 0===window.documentEditorV3||!window.documentEditorV3)&&e.is_template_locked){var t=$("#template-"+currentTemplateId);t.data("template-name")&&window.dataLayer.push({event:"productDetail",ecommerce:{detail:{products:[{id:currentTemplateId,name:"CVTPL-"+t.data("template-name").toUpperCase(),price:t.data("template-price").toString().replace(",","."),category:"CV/Templates",list:"CV Editor"}]}}})}$(".show-more-page--buy").is(":visible")&&Yt([{name:"CVOPT-5PAGES",id:"4",price:"3.00",category:"CV/Options",list:"CV Editor"}]),void 0!==window.documentEditorV3&&window.documentEditorV3?$("#cv-loading").fadeOut("fast"):($("#editMainInformation").show(),$("#cvTemplatesOptions").show(),$("#cvLoading").fadeOut("fast")),$(".school-options-wrapper").length&&$(".school-options-wrapper > .school-options").children().length>0&&$(".school-options-wrapper").fadeIn("fast"),void 0!==window.callbackLoad&&window.callbackLoad(),onCVLoaded&&onCVLoaded.map((function(e){e()}))})).then((function(){0===onCVLoaded.length&&startTutorial&&T();var e=!1;$("#cvHTML .block-lnskill").length>0&&$("#cvHTML .block-lnskill").each((function(){if($(this).text().indexOf("LANG_NOT_FOUND")>-1&&!e){var t=introJs();t.setOptions(Object.assign(introjsIntl,{scrollTo:"tooltip",disableInteraction:!0,steps:[{element:this,intro:intl("newVersion.langNotFound"),position:"top"}]})),t.start(),e=!0}})),Yt([])}))};$(document).ready((function(){if(void 0!==window.documentEditorV3&&window.documentEditorV3&&window.innerWidth<=760){var e=null,t=!1;window.addEventListener("resize",(function(){t||(e&&(clearTimeout(e),e=null),e=setTimeout((function(){window.innerWidth>760&&(Vt(),t=!0),e=null}),500))}))}else Vt()}));var Lt=function(){$(".metaoption, .fontoption, .sizeoption").unbind().change((function(){var e=$(this).attr("variable-type"),t=$(this).attr("variable-name"),n=$(this).val();F(t,e,n)})),$(".radiooption").unbind().change((function(){var e=$(this).attr("variable-type"),t=$(this).attr("variable-name"),n=$(this).attr("name"),o=$('input[name="'+n+'"]:checked').val();F(t,e,o)})),$(".colorSelector").each((function(){var e=$(this).attr("variable-type"),t=$(this).attr("variable-name"),n=$(this).attr("variable-value"),o=this;$(this).unbind().ColorPicker({color:n,onShow:function(e){return $(e).fadeIn(500),!1},onHide:function(i){return $(i).fadeOut(500),n=$(o).attr("variable-value"),F(t,e,n),!1},onChange:function(e,t,n){$("div",o).css("backgroundColor","#"+t),$(o).attr("variable-value","#"+t)}})}))},xt=function(e,t){F(t,"SIZE",e.width)},It=function(e,t){F(t,"SIZE",e.height)},Bt=function(){$('*[resizable="true"]').each((function(){var e=$(this),t=e.attr("resizable-min-height"),n=e.attr("resizable-max-height"),o=e.attr("resizable-min-width"),i=e.attr("resizable-max-width"),a=e.attr("resizable-handles"),r=e.attr("resizable-sibling-col"),s=e.attr("resizable-sync-col"),c=e.attr("resizable-flex"),d=null,l=null;if(r){var u=this.parentNode;d=$("."+r,u),l=d.width()}var p=null,m=null;s&&(m=$("."+s),p=m.width());var f=e.width(),v=e.height(),h={width:e.outerWidth(),height:e.outerHeight()};"100%"===i&&(i=e.parent().outerWidth());var w=0!=e.attr("resizable-constraint-ratio")?f/v:null;e.resizable({maxHeight:n||v,maxWidth:i||f,minHeight:t||v,minWidth:o||f,aspectRatio:w,handles:a||null,start:function(e,t){},resize:function(e,t){var n,o;if(d){n=Math.round(t.originalSize.width),o=Math.round(t.size.width),c&&(n=h.width,o=t.element.outerWidth());var i=n-o;d.width(l+i)}if(m){n||(n=Math.round(t.originalSize.width),o=Math.round(t.size.width),c&&(n=h.width,o=t.element.outerWidth()));i=n-o;m.width(p-i)}},stop:function(e,t){var n=$(t.element).attr("resizable-callback"),o=$(t.element).attr("variable-name");n&&window[n](t.size,o)}})}))},Mt=[],Ht=function(){Mt=[],$(".cv-page:visible").find(".ui-resizable:not(.cv-photo):not(.cv-picture) .ui-resizable-handle").each((function(){$(this).parent().hasClass("cv-photo")||$(this).parent().hasClass("cv-picture")||($(this).hasClass("ui-resizable-w")||$(this).hasClass("ui-resizable-e"))&&(Mt.push({element:this,x:Math.round($(this).offset().left),y:Math.round($(this).offset().top),h:$(this).height()}),$(this).html('<div class="ui-resizable-cursor"></div>'))}))},At=[],Rt=0;$(document).on("mousemove",(function(e){var t=Math.round(e.pageX),n=Math.round(e.pageY);if(Date.now()-Rt>70){for(var o in At=[],Mt){var i=-1,a=Mt[o].element,r=Mt[o].x;i=n>(d=Mt[o].y)+(l=Mt[o].h)?n-(d+l):n<d?d-n:0,Math.abs(t-r)<60&&i<10?$(e.target).parents(".buttons").length||$(e.target).parents(".options").length||$(e.target).parents(".cv-picture").length||$(e.target).parents(".introjs-tooltipReferenceLayer").length||$(e.target).hasClass("introjs-overlay")||$(e.target).hasClass("cv-picture")?$(a).removeClass("visible"):($(a).addClass("visible"),At.push({element:a,barY:d,barH:l})):$(a).removeClass("visible")}Rt=Date.now()}for(var s in At){var c=At[s].element,d=At[s].barY,l=At[s].barH,u=n-d-15;u<0?u=0:u>l-40&&(u=l-40),$(".ui-resizable-cursor",c).css("top",u+"px")}}));var jt=function(){$('*[movable-background="true"]').each((function(){$(this).backgroundDraggable({bound:!0,axis:"landscape"===currentCvPhotoOrientation?"x":"portrait"===currentCvPhotoOrientation?"y":null,done:function(e){var t=$(e).attr("movable-background-callback"),n=$(e).attr("movable-background-variable-name"),o=$(e).css("background-position").replace("px","").replace("px","").split(" "),i="50%"!==o[0]?o[0]:0,a="50%"!==o[1]?o[1]:0;n?window[t](n,i,a):window[t](i,a)}})}))},Nt=function(e){requestPOST("/ajax/cv/"+cvId+"/photo/size",(function(e){e.success&&Et(e.CVHTMLCSS)}),{width:parseInt(e.width),height:parseInt(e.height)})},Dt=function(e,t){requestPOST("/ajax/cv/"+cvId+"/photo/backgroundPosition",(function(e){e.success&&Et(e.CVHTMLCSS)}),{x:parseInt(e),y:parseInt(t)})},Ft=function(e,t,n){$("*[movable-background-variable-name="+e+"]").addClass("movable-bg-loading"),$("*[movable-background-variable-name="+e+"]").backgroundDraggable("disable"),F(e+"X","SIZE",parseInt(t),function(){F(e+"Y","SIZE",parseInt(n))}.bind(this))},qt=function(){requestPOST("/ajax/cv/"+cvId+"/photo/backgroundOrientation",(function(e){currentCvPhotoOrientation=e.currentMode,e.success&&Et(e.CVHTMLCSS)}))},Ut=function(e){return intl("fontWeight."+e)},zt=function(e,t,n){var o=['<option value="">---</option>',$("option:selected",n).data("available-weights").split(" ").map((function(e){var t=e.split("|")[1];if(e=e.split("|")[0])return'<option value="'+e+'" data-available-styles="'+t.replace(new RegExp(",","g")," ")+'">'+Ut(e)+"</option>"}))];$("#"+e).html(o.join(""))},Wt=function(e){e.success?window.location=e.cvEditorURL:handleError(intl("createCV."+e.reason))},Kt=function(e){return new Promise((function(t,n){requestPOST("/ajax/payment/getTemplatePaymentData",(function(e){e.success?t(e):e.isLocked?t(e.actionToUnlock):t(!1)}),{templateId:e})}))},Gt=function(e,t,n,o){return new Promise((function(a,r){Kt(e).then((function(s){if(!1!==s&&"locked"!==s){var c,d,l,u=[{id:e,name:"CVTPL-"+s.templateName.toUpperCase(),price:s.templatePrice.toString().replace(",","."),category:"CV/Templates",list:"CV Editor"+(void 0!==o?" Templates list":""),quantity:1}];window.dataLayer.push({event:"productClick",ecommerce:{click:{actionField:{list:"CV Editor"+(void 0!==o?" Templates list":"")},products:u}}}),window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"EUR",add:{products:u,items:u.map((function(e){return i(i({},e),{},{item_id:e.id,item_name:e.name,item_price:e.price,item_category:e.category,item_list_name:e.list||"CV Editor",quantity:e.quantity})}))}}});var p=parseFloat(s.templatePrice.toString().replace(",",".")),m=!1,f=!1;if(s.suggestedPack){var v=s.suggestedPack;Yt([{name:"MUTPL-"+v.name.toUpperCase(),id:v.id,price:v.price.toString().replace(",","."),category:"CV/MULTI",list:"CV Editor Template Checkout"}]);var h=v.otherItems[0],w=(parseFloat(h.price.toString().replace(",",".")),(parseFloat(v.price.toString().replace(",","."))-p).toFixed(2).toString().replace(".",","));m='<label for="checkbox-pack-select" class="basket-payout__information__summary__optional rounded-corner"><div class="basket-payout__information__summary__optional__title"><input id="checkbox-pack-select" data-pack-id="'+v.id+'" data-pack-cipher="'+v.cipher+'" data-price="'+v.price+'"  data-name="'+v.name+'" type="checkbox" /><div class="label">'+intl("editor.templates.packTitle")+'</div></div><div class="basket-payout__information__summary__box mb0">\n        <div class="basket-payout__information__summary__box__thumbnail">\n            <img src="'+h.thumbnail+'" class="shadow-card"/>\n        </div>\n        <div class="basket-payout__information__summary__box__content">\n\n            <div class="basket-payout__information__summary__box__content__title">\n                '+h.basketTitle+'\n            </div>\n            <div class="basket-payout__information__summary__box__content__summary">\n                '+h.basketSummary+'\n            </div>\n            <div class="basket-payout__information__summary__box__content__total">\n                <span class="basket-payout__information__summary__box__content__total__original basket-payout__information__summary__box__content__total__original--strike">'+h.price+'€</span>                <span class="basket-payout__information__summary__box__content__total__delta">+'+w+"€</span>            </div>\n        </div></div></label>",f=function(){if(l){var t=$(this).closest(".basket-payout__information__summary__optional"),n=l.getOrder(),a=$('button[type="submit"]',n.$getForm());if($(this).is(":checked")){window.dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:[{id:e,name:"CVTPL-"+s.templateName.toUpperCase(),price:s.templatePrice.toString().replace(",","."),category:"CV/Templates",list:"CV Editor"+(void 0!==o?" Templates list":""),quantity:1}]}}});var r=[{id:$(this).data("pack-id"),name:"MUTPL-"+$(this).data("name").toUpperCase(),price:$(this).data("price").toString().replace(",","."),category:"CV/Multi",list:"CV Editor Template Checkout",quantity:1}];window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"EUR",add:{products:r,items:r.map((function(e){return i(i({},e),{},{item_id:e.id,item_name:e.name,item_price:e.price,item_category:e.category,item_list_name:e.list||"CV Editor",quantity:e.quantity})}))}}}),u=[{id:$(this).data("pack-id"),name:"MUTPL-"+$(this).data("name").toUpperCase(),price:$(this).data("price").toString().replace(",","."),category:"CV/Multi",list:"CV Editor Template Checkout",quantity:1}],t.addClass("basket-payout__information__summary__optional--active"),n.setPageData({packId:$(this).data("pack-id"),cipher:$(this).data("pack-cipher")},!0),n.setOrderTypeKey("8"),n.createOrder(),a.addClass("cta-btn--highlight-effect1--activate"),setTimeout((function(){a.removeClass("cta-btn--highlight-effect1--activate")}),200),$("span",a).html(intl("editor.templates.payout.buyNow",{euroPrice:$(this).data("price")}))}else{window.dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:[{id:$(this).data("pack-id"),name:"MUTPL-"+$(this).data("name"),price:$(this).data("price").toString().replace(",","."),category:"CV/Multi",list:"CV Editor Template Checkout",quantity:1}]}}});var p=[{id:e,name:"CVTPL-"+s.templateName.toUpperCase(),price:s.templatePrice.toString().replace(",","."),category:"CV/Templates",list:"CV Editor"+(void 0!==o?" Templates list":""),quantity:1}];window.dataLayer.push({event:"addToCart",ecommerce:{currencyCode:"EUR",add:{products:p,items:p.map((function(e){return i(i({},e),{},{item_id:e.id,item_name:e.name,item_price:e.price,item_category:e.category,item_list_name:e.list||"CV Editor",quantity:e.quantity})}))}}}),u=[{id:e,name:"CVTPL-"+s.templateName.toUpperCase(),price:s.templatePrice.toString().replace(",","."),category:"CV/Templates",list:"CV Editor"+(void 0!==o?" Templates list":""),quantity:1}],t.removeClass("basket-payout__information__summary__optional--active"),n.setOrderTypeKey("2"),n.setPageData({cipher:d},!0),n.createOrder(),a.addClass("cta-btn--highlight-effect1--activate"),setTimeout((function(){a.removeClass("cta-btn--highlight-effect1--activate")}),200),$("span",a).html(c)}}}}var g=s.templateName,b=s.templatePrice+"€";s.templateOriginalPrice&&s.templateOriginalPrice!==s.templatePrice&&(b='<span class="basket-payout__information__summary__box__content__total--strike">'+s.templateOriginalPrice+"€</span> "+s.templatePrice+"€"),(l=new OrderModal({orderTypeKey:"2",pageData:{cvId:t,templateId:e,cipher:s.templateCipher},urls:buy_template_urls},(function(e){return{}}),{classnames:{information:""},decomposeNameInputs:!1,initialValues:{email:s.user.email,firstname:null,lastname:null,name:s.user.name,address:{address1:s.address&&s.address.address1||"",city:s.address&&s.address.city||"",countryCode:s.address&&s.address.countryCode||"",postalCode:s.address&&s.address.postalCode||""}},html:{basketSummary:'<div class="basket-payout__information__summary__box '+(m?"mb20 mt20":"")+'">\n        <div class="basket-payout__information__summary__box__thumbnail">\n            <img src="'+s.templateThumbnail+'" class="shadow-card"/>\n        </div>\n        <div class="basket-payout__information__summary__box__content">\n\n            <div class="basket-payout__information__summary__box__content__title">\n                '+s.basketTitle+'\n            </div>\n            <div class="basket-payout__information__summary__box__content__summary">\n                '+s.basketSummary+'\n            </div>\n            <div class="basket-payout__information__summary__box__content__total">\n                '+b+"\n            </div>\n\n        </div>\n    </div>"+(m||""),customFieldsBefore:"",termsWording:intl("editor.templates.payout.terms"),customFieldsAfter:"",buyWording:intl("editor.templates.payout.buyNow",{euroPrice:s.templatePrice})}},(function(e){$(".swal2-popup .form-checkbox a",e).click((function(e){return $("#buy-template-terms").fadeIn(),e.preventDefault(),!1})),c=$('button[type="submit"] span',e).html(),d=l.getOrder().getPageData("cipher"),!1!==f&&$("#checkbox-pack-select").change(f)}),(function(e,t,n,o){null!==n&&n.buy_now_label&&(l.getOrder().setPageData({cipher:n.new_cipher},!0),l.getOrder().createOrder(),$('button[type="submit"] span',l.getOrder().$getForm()).html(n.buy_now_label))}),{title:intl("editor.cvEditor.successBought.title"),text:"<h3>"+intl("editor.cvEditor.successBought.subtitle",{templateName:g})+"</h3><p>"+intl("editor.cvEditor.successBought.text")+"</p>",btnLabel:intl("editor.cvEditor.successBought.confirmButton")},(function(o,a){window.dataLayer.push({event:"purchase",ecommerce:{purchase:{currency:"EUR",actionField:{id:a.getOrder().getId(),affiliation:"CVDesignR",revenue:a.getOrder().getTotal()/100,tax:a.getOrder().getTotal()/100*.2},products:u,items:u.map((function(e){return i(i({},e),{},{item_id:e.id,item_name:e.name,item_price:e.price,item_category:e.category,item_list_name:e.list||"CV Editor",quantity:e.quantity})}))}}}),n(e,t,o)}),null,(function(){a({templateId:e,cvId:t})}),(function(){window.dataLayer.push({event:"removeFromCart",ecommerce:{remove:{products:u}}}),r()}))).open()}else a({templateId:e,cvId:t})}))}))},Zt=function(e){e.success&&(window.cvLocked=!1,$(".services-options-wrapper").hide(),void 0!==window.documentEditorV3&&window.documentEditorV3||$("#cvLoading").fadeIn("fast"),setTimeout((function(){location.reload()}),600))},Yt=function(e){if(0==e.length){var t=$(".cv-correction-button"),n=$(".ask-for-translation");e=[];t.length&&e.push({id:2,name:"CVSRV-C-FR",price:"27.90",category:"CV/Services",list:"CV Editor"}),n.length&&e.push({id:6,name:"CVSRV-T-FREN",price:"69.90",category:"CV/Services",list:"CV Editor"})}dataLayer.push({event:"productImpression",ecommerce:{currencyCode:"EUR",impressions:e}})},Xt=function(){Swal.fire({title:null,html:document.querySelector("#begin-correction").innerHTML,showCloseButton:!0,customClass:{popup:"swal2-popup--feedback",confirmButton:"cta-btn cta-btn--pink cta-btn--hover-effect1",cancelButton:"cta-btn cta-btn--transparent"},buttonsStyling:!1,cancelButtonText:'<span class="cta-btn__text cta-btn__text--black">'+intl("services.correction.step1.cancel")+"</span>",confirmButtonText:'<span class="cta-btn__text">'+intl("services.correction.step1.letsGo")+"</span>",focusConfirm:!1,showCancelButton:!0,showConfirmButton:!0,reverseButtons:!0,onBeforeOpen:function(){},onOpen:function(){},preConfirm:function(){var e=$('#begin-correction-form textarea[name="applicantComment"]'),t=$(".swal2-confirm");return t.addClass("loading"),t.attr("disabled",!0),fetch("/api/v1/applicant_service/cv_correction/"+window.cvId+"/ready",{method:"POST",credentials:"include",body:JSON.stringify({applicant_comment:e.val()})}).then((function(e){return e.json()})).then((function(e){e.success||Swal.showValidationMessage("ERROR"),t.removeClass("loading"),t.attr("disabled",!1)}))}}).then((function(e){e.value&&location.reload()}))},Jt=function(){Swal.fire({title:null,html:document.querySelector("#begin-commentary").innerHTML,showCloseButton:!0,customClass:{popup:"swal2-popup--feedback",confirmButton:"cta-btn cta-btn--pink cta-btn--hover-effect1",cancelButton:"cta-btn cta-btn--transparent"},buttonsStyling:!1,cancelButtonText:'<span class="cta-btn__text cta-btn__text--black">'+intl("services.commentary.step1.cancel")+"</span>",confirmButtonText:'<span class="cta-btn__text">'+intl("services.commentary.step1.letsGo")+"</span>",focusConfirm:!1,showCancelButton:!0,showConfirmButton:!0,reverseButtons:!0,onBeforeOpen:function(){},onOpen:function(){},preConfirm:function(){var e=$('#begin-correction-form textarea[name="applicantComment"]'),t=$(".swal2-confirm");return t.addClass("loading"),t.attr("disabled",!0),fetch("/api/v1/applicant_service/cv_commentary/"+window.cvId+"/ready",{method:"POST",credentials:"include",body:JSON.stringify({applicant_comment:e.val()})}).then((function(e){return e.json()})).then((function(e){e.success||Swal.showValidationMessage("ERROR"),t.removeClass("loading"),t.attr("disabled",!1)}))}}).then((function(e){e.value&&location.reload()}))},Qt=function(e){Swal.fire({title:null,html:'<div id="myOldResume"></div>',showCloseButton:!0,customClass:{popup:"swal2-popup--resume",confirmButton:"cta-btn cta-btn--pink cta-btn--hover-effect1",cancelButton:"cta-btn cta-btn--transparent"},buttonsStyling:!1,cancelButtonText:'<span class="cta-btn__text cta-btn__text--black">Fermer</span>',focusConfirm:!1,showCancelButton:!0,showConfirmButton:!1,reverseButtons:!0,onBeforeOpen:function(){},onOpen:function(){return fetch("/api/v1/cv/"+window.cvId+"/showImportedCV",{method:"GET",credentials:"include"}).then((function(e){return e.json()})).then((function(e){e.success&&$("#myOldResume").html(e.html)}))},preConfirm:function(){}}).then((function(e){}))};window._defineProperty=t,window.ownKeys=o,window._objectSpread=i,window._createForOfIteratorHelper=a,window._unsupportedIterableToArray=r,window._arrayLikeToArray=s,window.Alfred=c,window.loadedCV=d,window.currentScrollTop=l,window.socialNetworkProfile=p,window.currentMaxNbPages=m,window.defaultShownNbPages=1,window.defaultMaxNbPages=2,window.shownNbPages=f,window.isAdvancedUpload=v,window.bindAjaxPhotoForm=h,window.newVariantLoaded=w,window.newVariantActionCb=g,window.optionsLoaded=b,window.optionsLoadedActionCb=C,window.fixedPhone=y,window.mobilePhone=k,window.startIntro=T,window.unlockedAction=_,window.startUnlockingAction=S,window.openUnlockingTutorial=E,window.filterTemplates=P,window.toggleSearchTemplate=O,window.hideSearchTemplate=V,window.hideCvTemplates=L,window.showCvTemplates=x,window.toggleShowTemplate=I,window.setTemplate=B,window.justMarkTemplateAsPaid=M,window.justBuyTemplate=H,window.handleOffsetYOptions=A,window.onKeyDownCTRLZ=R,window.onCTRLZ=j,window.onKeyDownCTRLY=N,window.onCTRLY=D,window.updateCvVariantVariable=F,window.cancelDrivingLicense=q,window.handleMobility=U,window.handleCustomDrivingLicense=z,window.handleDrivingLicense=W,window.handleMaritalStatus=K,window.handleRemoteWork=G,window.handleNationality=Z,window.cancelMobilityPlace=Y,window.saveInformationRelativeSort=X,window.cvContentsStructure=J,window.lastCvContentsStructureDiff=Q,window.initContentsSortCalculator=ee,window.makeDiffContentsSort=te,window.saveRelativeSort=ne,window.upLined=oe,window.showForbiddenZones=ie,window.showAgainForbiddenZones=ae,window.timeScroll=re,window.throttleScroll=se,window.bindCvDataSortable=ce,window.bindCvContentEditable=de,window.deleteCvBlock=le,window.pushNewCvTitle=ue,window.chooseIco=pe,window.iconsList=me,window.bindedCVTitles=fe,window.bindCvTitles=ve,window.openMyApplicationInformation=he,window.bindEditableInformation=we,window.bindEditableUsername=ge,window.callbackFocusOption=be,window.bindEditableCvGeneralInfo=Ce,window.deleteProfilePicture=$e,window.bindActionsProfilePicture=ye,window.showCVButtons=ke,window.bindB2BService=Te,window.checkContainerMoveToTop=_e,window.showAvailableBlocks=Se,window.showBlockContents=Ee,window.hideBlockContents=Pe,window.showAddBlocks=Oe,window.showInsertBlockHere=Ve,window.hideAddBlocks=Le,window.updateCvImage=xe,window.bindEditImage=Ie,window.openInsertImageForm=Be,window.showEditCVPhoto=He,window.bindPagesCounter=Ae,window.bindImageAdding=Re,window.addTimeLineContentByType=je,window.bindTimelineContainerOptions=Ne,window.bindCvContainerOptions=De,window.getCV=Fe,window.getCvContent=qe,window.getCvBlockContent=Ue,window.deleteCvContent=ze,window.freeBlockContentUpdated=We,window.contentUpdated=Ke,window.htmlEntities=Ge,window.updatedAllInformation=Ze,window.updatedMainData=Ye,window.editor=Me,window.bindContentEditUtils=Xe,window.removeNAF=Je,window.suggesting=Qe,window.suggestingSignalController=et,window.suggestingPrevValues=tt,window.predictedEtab=nt,window.foundNAFs=ot,window.currentNAFFormId=it,window.suggestNAF=at,window.selectNAF=rt,window.bindNAF=st,window.createContentEditor=ct,window.bindSocialNetworkForm=dt,window.editCvContent=lt,window.editFreeContent=ut,window.openOptionsMenu=pt,window.toggleOptionsHTML=mt,window.hideOptionsDOM=ft,window.detectBlockInRedZone=vt,window.showPreviousNextButtons=ht,window.autoFit=wt,window.moveBlocksToOtherPage=gt,window.refreshCVOptionsFromHTML=bt,window.refreshTemplateOptions=Ct,window.buyMicroService=$t,window.microPayment=yt,window.buyIncreasePageNumber=kt,window.loadingMorePage=Tt,window.hideLastPage=_t,window.showOneMorePage=St,window.refreshCVFromHTMLCSS=Et,window.checkDepositButton=Pt,window.getCurrentCV=Ot,window.initDesktopVersion=Vt,window.bindCvVariables=Lt,window.updateCVSizeColumn=xt,window.updateCVVariableHeight=It,window.bindResizableElements=Bt,window.resizableBars=Mt,window.bindMouseResizeHandlers=Ht,window.visibleBars=At,window.lastMove=Rt,window.bindMovableElements=jt,window.resizedCvPhoto=Nt,window.movedBackgroundPhoto=Dt,window.movedCVVariableBackgroundPhoto=Ft,window.changeOrientationModePhoto=qt,window.weightIntToTxt=Ut,window.setFontSelectWeights=zt,window.createdCV=Wt,window.getTemplatePaymentData=Kt,window.getTemplate=Gt,window.regainedControl=Zt,window.ecommerceImpression=Yt,window.beginCorrection=Xt,window.beginCommentary=Jt,window.showMyOldResume=Qt,e.exports={_defineProperty:t,ownKeys:o,_objectSpread:i,_createForOfIteratorHelper:a,_unsupportedIterableToArray:r,_arrayLikeToArray:s,Alfred:c,loadedCV:d,currentScrollTop:l,socialNetworkProfile:p,currentMaxNbPages:m,defaultShownNbPages:1,defaultMaxNbPages:2,shownNbPages:f,isAdvancedUpload:v,bindAjaxPhotoForm:h,newVariantLoaded:w,newVariantActionCb:g,optionsLoaded:b,optionsLoadedActionCb:C,fixedPhone:y,mobilePhone:k,startIntro:T,unlockedAction:_,startUnlockingAction:S,openUnlockingTutorial:E,filterTemplates:P,toggleSearchTemplate:O,hideSearchTemplate:V,hideCvTemplates:L,showCvTemplates:x,toggleShowTemplate:I,setTemplate:B,justMarkTemplateAsPaid:M,justBuyTemplate:H,handleOffsetYOptions:A,onKeyDownCTRLZ:R,onCTRLZ:j,onKeyDownCTRLY:N,onCTRLY:D,updateCvVariantVariable:F,cancelDrivingLicense:q,handleMobility:U,handleCustomDrivingLicense:z,handleDrivingLicense:W,handleMaritalStatus:K,handleRemoteWork:G,handleNationality:Z,cancelMobilityPlace:Y,saveInformationRelativeSort:X,cvContentsStructure:J,lastCvContentsStructureDiff:Q,initContentsSortCalculator:ee,makeDiffContentsSort:te,saveRelativeSort:ne,upLined:oe,showForbiddenZones:ie,showAgainForbiddenZones:ae,timeScroll:re,throttleScroll:se,bindCvDataSortable:ce,bindCvContentEditable:de,deleteCvBlock:le,pushNewCvTitle:ue,chooseIco:pe,iconsList:me,bindedCVTitles:fe,bindCvTitles:ve,openMyApplicationInformation:he,bindEditableInformation:we,bindEditableUsername:ge,callbackFocusOption:be,bindEditableCvGeneralInfo:Ce,deleteProfilePicture:$e,bindActionsProfilePicture:ye,showCVButtons:ke,bindB2BService:Te,checkContainerMoveToTop:_e,showAvailableBlocks:Se,showBlockContents:Ee,hideBlockContents:Pe,showAddBlocks:Oe,showInsertBlockHere:Ve,hideAddBlocks:Le,updateCvImage:xe,bindEditImage:Ie,openInsertImageForm:Be,showEditCVPhoto:He,bindPagesCounter:Ae,bindImageAdding:Re,addTimeLineContentByType:je,bindTimelineContainerOptions:Ne,bindCvContainerOptions:De,getCV:Fe,getCvContent:qe,getCvBlockContent:Ue,deleteCvContent:ze,freeBlockContentUpdated:We,contentUpdated:Ke,htmlEntities:Ge,updatedAllInformation:Ze,updatedMainData:Ye,editor:Me,bindContentEditUtils:Xe,removeNAF:Je,suggesting:Qe,suggestingSignalController:et,suggestingPrevValues:tt,predictedEtab:nt,foundNAFs:ot,currentNAFFormId:it,suggestNAF:at,selectNAF:rt,bindNAF:st,createContentEditor:ct,bindSocialNetworkForm:dt,editCvContent:lt,editFreeContent:ut,openOptionsMenu:pt,toggleOptionsHTML:mt,hideOptionsDOM:ft,detectBlockInRedZone:vt,showPreviousNextButtons:ht,autoFit:wt,moveBlocksToOtherPage:gt,refreshCVOptionsFromHTML:bt,refreshTemplateOptions:Ct,buyMicroService:$t,microPayment:yt,buyIncreasePageNumber:kt,loadingMorePage:Tt,hideLastPage:_t,showOneMorePage:St,refreshCVFromHTMLCSS:Et,checkDepositButton:Pt,getCurrentCV:Ot,initDesktopVersion:Vt,bindCvVariables:Lt,updateCVSizeColumn:xt,updateCVVariableHeight:It,bindResizableElements:Bt,resizableBars:Mt,bindMouseResizeHandlers:Ht,visibleBars:At,lastMove:Rt,bindMovableElements:jt,resizedCvPhoto:Nt,movedBackgroundPhoto:Dt,movedCVVariableBackgroundPhoto:Ft,changeOrientationModePhoto:qt,weightIntToTxt:Ut,setFontSelectWeights:zt,createdCV:Wt,getTemplatePaymentData:Kt,getTemplate:Gt,regainedControl:Zt,ecommerceImpression:Yt,beginCorrection:Xt,beginCommentary:Jt,showMyOldResume:Qt}}).call(window)},94507:()=>{}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,loaded:!1,exports:{}};return o[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=o,a.amdO={},e=[],a.O=(t,n,o,i)=>{if(!n){var r=1/0;for(l=0;l<e.length;l++){for(var[n,o,i]=e[l],s=!0,c=0;c<n.length;c++)(!1&i||r>=i)&&Object.keys(a.O).every((e=>a.O[e](n[c])))?n.splice(c--,1):(s=!1,i<r&&(r=i));if(s){e.splice(l--,1);var d=o();void 0!==d&&(t=d)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>e+"."+{353:"c5a1dec3",1705:"c3a018d2",3237:"bfb12dad",3470:"c8183b98",3621:"6730782e",3845:"baa3e08b",6279:"2f281222",6484:"b671960d",8510:"8d01adf1"}[e]+".js",a.miniCssF=e=>(99===e?"jq":e)+"."+{99:"6bb8cd83",2338:"599fdec4",2830:"7da8264f",8785:"225a6f93"}[e]+".css",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="cvdesignr:",a.l=(e,o,i,r)=>{if(t[e])t[e].push(o);else{var s,c;if(void 0!==i)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==n+i){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",n+i),s.src=e),t[e]=[o];var p=(n,o)=>{s.onerror=s.onload=null,clearTimeout(m);var i=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(o))),n)return n(o)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.p="/build/",(()=>{var e={3195:0,8785:0,2338:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else if(/^(2338|8785)$/.test(t))e[t]=0;else{var i=new Promise(((n,i)=>o=e[t]=[n,i]));n.push(o[2]=i);var r=a.p+a.u(t),s=new Error;a.l(r,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,o[1](s)}}),"chunk-"+t,t)}},a.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[r,s,c]=n,d=0;if(r.some((t=>0!==e[t]))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(c)var l=c(a)}for(t&&t(n);d<r.length;d++)i=r[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(l)},n=self.webpackChunkcvdesignr=self.webpackChunkcvdesignr||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(2069))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(95783))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(62364))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(42697))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(97449))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(88308))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(47238))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(98642))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(39610))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(65946))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(69369))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(50546))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(73672))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(60466))),a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(94507)));var r=a.O(void 0,[99,7589,6021,4818,2593,2186,4626,955,8785,2830,2338],(()=>a(12564)));r=a.O(r)})();